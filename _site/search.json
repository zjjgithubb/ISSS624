[
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html",
    "href": "TakehomeEx/Ex02/takehomeex2.html",
    "title": "Take Home Ex 2",
    "section": "",
    "text": "Setting the SceneMotivation and ObjectiveThe Data\n\n\nWhat are the driving forces behind urban dwellers to weak up early in morning to commute from their home locations to their work places? What are the impact of removing a public bus service on the commuters reside along the corridor of the bus route? These and many other questions related to urban mobility are challenges faced by transport operators and urban managers.\nTo provide answer to this question, traditionally, commuters survey will be used. However, commuters survey is a very costly, time-consuming and laborous, not to mention that the survey data tend to take a long time to clean and analyse. As a result, it is not unusual, by the time the survey report was ready, most of the information already out-of-date!\nAs city-wide urban infrastructures such as public buses, mass rapid transits, public utilities and roads become digital, the data sets obtained can be used as a framework for tracking movement patterns through space and time. This is particularly true with the recent trend of massive deployment of pervasive computing technologies such as GPS on the vehicles and SMART cards used by public transport commuters.\nUnfortunately, this explosive growth of geospatially-referenced data has far outpaced the planner’s ability to utilize and transform the data into insightful information thus creating an adverse impact on the return on the investment made to collect and manage this data.\n\n\nThis take-home exercise is motivated by two main reasons. Firstly, despite increasing amounts of open data available for public consumption, there has not been significant practice research carried out to show how these disparate data sources can be integrated, analysed, and modelled to support policy making decisions.\nSecondly, there is a general lack of practical research to show how geospatial data science and analysis (GDSA) can be used to support decision-making.\nHence, your task for this take-home exercise is to conduct a case study to demonstrate the potential value of GDSA to integrate publicly available data from multiple sources for building a spatial interaction models to determine factors affecting urban mobility patterns of public bus transit.\n\n\n\n\nFor the purpose of this assignment, data from several open government sources will be used:\n\nPassenger Volume by Origin Destination Bus Stops, Bus Stop Location, Train Station and Train Station Exit Point, just to name a few of them, from LTA DataMall.\nMaster Plan 2019 Subzone Boundary, HDB Property Information, School Directory and Information and other relevant data from Data.gov.sg.\n\n\n\n\n\nBusinesses, retail and services, leisure and recreation, etc geospatial data sets assemble by course instructor. (Refer to eLearn)"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#geospatial-data-science",
    "href": "TakehomeEx/Ex02/takehomeex2.html#geospatial-data-science",
    "title": "Take Home Ex 2",
    "section": "Geospatial Data Science",
    "text": "Geospatial Data Science\n\nDerive an analytical hexagon data of 375m (this distance is the perpendicular distance between the centre of the hexagon and its edges) to represent the traffic analysis zone (TAZ).\nWith reference to the time intervals provided in the table below, construct an O-D matrix of commuter flows for a time interval of your choice by integrating Passenger Volume by Origin Destination Bus Stops and Bus Stop Location from LTA DataMall. The O-D matrix must be aggregated at the analytics hexagon level\n\n\n\n\n\n\n\n\nPeak hour period\nBus tap on time\nWhat it Means (Likely)\n\n\n\n\nWeekday morning peak\n6am to 9am\nGoing to work and school (our data will be focused on this)\n\n\nWeekday afternoon peak\n5pm to 8pm\nReturning home from work or school\n\n\nWeekend/holiday morning peak\n11am to 2pm\nHeading out for retail shopping, attractions etc\n\n\nWeekend/holiday evening peak\n4pm to 7pm\nReturning home for Mon Blues\n\n\n\nDisplay the O-D flows of the passenger trips by using appropriate geovisualisation methods (not more than 5 maps).\nDescribe the spatial patterns revealed by the geovisualisation (not more than 100 words per visual).\nAssemble at least three propulsive and three attractiveness variables by using aspatial and geospatial from publicly available sources.\nCompute a distance matrix by using the analytical hexagon data derived earlier."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#spatial-interaction-modelling",
    "href": "TakehomeEx/Ex02/takehomeex2.html#spatial-interaction-modelling",
    "title": "Take Home Ex 2",
    "section": "Spatial Interaction Modelling",
    "text": "Spatial Interaction Modelling\n\nCalibrate spatial interactive models to determine factors affecting urban commuting flows at the selected time interval.\nPresent the modelling results by using appropriate geovisualisation and graphical visualisation methods. (Not more than 5 visuals)\nWith reference to the Spatial Interaction Model output tables, maps and data visualisation prepared, describe the modelling results. (not more than 100 words per visual)."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#loading-the-packages",
    "href": "TakehomeEx/Ex02/takehomeex2.html#loading-the-packages",
    "title": "Take Home Ex 2",
    "section": "Loading the Packages",
    "text": "Loading the Packages\n\npacman::p_load(tmap, sf, sp, DT,\n               performance, reshape2,\n               ggpubr, tidyverse, stplanr, jsonlite)"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-flow-data",
    "href": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-flow-data",
    "title": "Take Home Ex 2",
    "section": "Preparing the Flow Data",
    "text": "Preparing the Flow Data\n\nImporting the OD DataExtracting the Data according to the Weekday AM periodWorking with Geospatial DataCreating Hexagonal GridsCombine with Hexagon GridAppending Data and Checking\n\n\n\n#|eval: false\n\nodbus &lt;- read_csv(\"data/aspatial/origin_destination_bus_202310.csv\")\n\n\n\n\n#|eval: false\nodbus6_9 &lt;- odbus %&gt;%\n  filter(DAY_TYPE == \"WEEKDAY\") %&gt;%\n  filter(TIME_PER_HOUR &gt;= 6 &\n           TIME_PER_HOUR &lt;= 9) %&gt;%\n  group_by(ORIGIN_PT_CODE,\n           DESTINATION_PT_CODE) %&gt;%\n  summarise(TRIPS = sum(TOTAL_TRIPS))\n\n\n\n\n#|eval: false\nbusstops = st_read(dsn = \"data/geospatial\", \n               layer = \"BusStop\") %&gt;%\n  st_transform (crs = 3414)\n\nReading layer `BusStop' from data source \n  `C:\\zjjgithubb\\ISSS624\\TakehomeEx\\Ex02\\data\\geospatial' using driver `ESRI Shapefile'\nSimple feature collection with 5161 features and 3 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 3970.122 ymin: 26482.1 xmax: 48284.56 ymax: 52983.82\nProjected CRS: SVY21\n\n\n\n\nCreate analytical hexagon data of 325m (this distance is the perpendicular distance between the centre of the hexagon and its edges) - so should be c(750, 750).\n\n#|eval: false\nhexagon_grid = st_make_grid(busstops, c(750, 750), what = \"polygons\", square = FALSE)\n\nhexagon_grid_sf = st_sf(hexagon_grid) %&gt;%\n  mutate(grid_id = 1:length(lengths(hexagon_grid)))\n\n\n\n\n#|eval: false\nhexagon_grid_sf$n_busstops = lengths(st_intersects(hexagon_grid_sf, busstops))\n\nhexagon_busstop = filter(hexagon_grid_sf, n_busstops &gt; 0)\n\nbusstop_grid &lt;- st_intersection(busstops, hexagon_grid_sf)%&gt;%\n  select(BUS_STOP_N, grid_id) %&gt;%\n  st_drop_geometry()\n\n\n\n\n#|eval: false\nod_data_wdam &lt;- left_join(odbus6_9 , busstop_grid,\n            by = c(\"ORIGIN_PT_CODE\" = \"BUS_STOP_N\")) %&gt;%\n  rename(ORIGIN_BS = ORIGIN_PT_CODE,\n         ORIGIN_Grid = grid_id,\n         DESTIN_BS = DESTINATION_PT_CODE)\n\n\n#|eval: false\nduplicate &lt;- od_data_wdam %&gt;%\n  group_by_all() %&gt;%\n  filter(n()&gt;1) %&gt;%\n  ungroup()\n\n\n#|eval: false\nod_data_wdam &lt;- unique(od_data_wdam)\n\n\n#|eval: false\nod_data_wdam &lt;- left_join(od_data_wdam , busstop_grid,\n            by = c(\"DESTIN_BS\" = \"BUS_STOP_N\")) \n\nduplicate &lt;- od_data_wdam %&gt;%\n  group_by_all() %&gt;%\n  filter(n()&gt;1) %&gt;%\n  ungroup()\n\nod_data_wdam &lt;- unique(od_data_wdam)\n\nod_data_wdam &lt;- od_data_wdam %&gt;%\n  rename(DESTIN_Grid = grid_id) %&gt;%\n  drop_na() %&gt;%\n  group_by(ORIGIN_Grid, DESTIN_Grid) %&gt;%\n  summarise(MORNING_PEAK = sum(TRIPS))\n\n#Removing Intra-Grid Flow\nod_wdam_cleaned &lt;- od_data_wdam[od_data_wdam$ORIGIN_Grid!=od_data_wdam$DESTIN_Grid,]"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#removing-intra-grid-flow",
    "href": "TakehomeEx/Ex02/takehomeex2.html#removing-intra-grid-flow",
    "title": "Take Home Ex 2",
    "section": "Removing Intra-Grid Flow",
    "text": "Removing Intra-Grid Flow\n\nod_data1 &lt;- od_data_wdam[od_data_wdam$ORIGIN_Grid!=od_data_wdam$DESTIN_Grid,]"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#creating-desire-lines",
    "href": "TakehomeEx/Ex02/takehomeex2.html#creating-desire-lines",
    "title": "Take Home Ex 2",
    "section": "Creating Desire Lines",
    "text": "Creating Desire Lines\n\nflowLine &lt;- od2line(flow = od_wdam_cleaned, \n                    zones = hexagon_grid_sf,\n                    zone_code = \"grid_id\")\n\n\n\nCode\ntmap_options(check.and.fix = TRUE)\ntmap_mode(\"plot\")\n\ntm_shape(mpsz) +\n  tm_polygons(col = \"black\", alpha = 0.5) +\n  tm_layout(main.title = \"Spatial Flow for Passengers by Bus on Weekdays Morning\",\n            main.title.position = \"center\",\n            main.title.size = 1.0,\n            frame = TRUE) +\n  tm_borders(alpha = 0.5) +\n  tm_compass(type=\"8star\", size = 2) +\n  tm_scale_bar() +\n  tm_grid(alpha =0.2, labels.show = FALSE)+\ntm_shape(hexagon_bustops) +\n  tm_polygons(alpha = 0.3, col = \"lightblue\") +\nflow_data_tidy %&gt;%  \n  filter(TRIPS &gt;= 5000) %&gt;%\ntm_shape() +\n  tm_lines(lwd = \"TRIPS\",\n           style = \"quantile\",\n           scale = c(0.1, 1, 3, 5, 7, 10),\n           n = 6,\n           col = \"yellow\",\n           alpha = 0.5)\n\n\n\n\n\n\n#| code-fold: true\ntmap_options(check.and.fix = TRUE)\ntmap_mode(\"plot\")\n\ntm_shape(mpsz) +\n  tm_polygons(col = \"black\", alpha = 0.5) +\n  tm_layout(main.title = \"Spatial Flow for Passengers by Bus on Weekdays Morning, Dist &gt; 10km\",\n            main.title.position = \"center\",\n            main.title.size = 1.0,\n            frame = TRUE) +\n  tm_borders(alpha = 0.5) +\n  tm_compass(type=\"8star\", size = 2) +\n  tm_scale_bar() +\n  tm_grid(alpha =0.2, labels.show = FALSE)+\ntm_shape(hexagon_bustops) +\n  tm_polygons(alpha = 0.3, col = \"lightblue\") +\nflow_data_tidy %&gt;%  \n  filter(TRIPS&gt;=5000, DIST &gt;= 10000) %&gt;%\ntm_shape() +\n  tm_lines(lwd = \"TRIPS\",\n           style = \"quantile\",\n           scale = c(0.1, 1, 3, 5, 7, 10),\n           n = 6,\n           col = \"yellow\",\n           alpha = 0.5)"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#spatial-patterns",
    "href": "TakehomeEx/Ex02/takehomeex2.html#spatial-patterns",
    "title": "Take Home Ex 2",
    "section": "Spatial Patterns",
    "text": "Spatial Patterns"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#propulsive-and-attractiveness-variables",
    "href": "TakehomeEx/Ex02/takehomeex2.html#propulsive-and-attractiveness-variables",
    "title": "Take Home Ex 2",
    "section": "Propulsive and Attractiveness Variables",
    "text": "Propulsive and Attractiveness Variables"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#computing-the-distance-matrix",
    "href": "TakehomeEx/Ex02/takehomeex2.html#computing-the-distance-matrix",
    "title": "Take Home Ex 2",
    "section": "Computing the Distance Matrix",
    "text": "Computing the Distance Matrix\n\nhexa_sp &lt;- as(hexagon_busstop,\"Spatial\")  \nhexa_sp\n\n\ndist &lt;- spDists(hexa_sp,                  \n                longlat = FALSE) #latlong is FALSE cuz its is in Svy21 alr  \nhead(dist, n=c(10, 10))\n\n\nhexa_id &lt;- hexagon_busstop$grid_id\n\n\ncolnames(dist) &lt;- paste0(hexa_id) rownames(dist) &lt;- paste0(hexa_id)\n\n\ndistPair &lt;- melt(dist) %&gt;%   rename(dist = value) head(distPair, 10)\n\n\ndistPair$dist &lt;- ifelse(distPair$dist == 0,                         \n                        50, distPair$dist)\n\n\ndistPair &lt;- distPair %&gt;%   rename(orig = Var1,          \n                                  dest = Var2)\n\n\nwrite_rds(distPair, \"data/rds/distPair.rds\") \n\n\ndistPair &lt;- read_rds(\"data/rds/distPair.rds\")"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-data",
    "href": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-data",
    "title": "Take Home Ex 2",
    "section": "Preparing the Data",
    "text": "Preparing the Data\nUse train station or the train station exit point - I think its the exit point\nSchool locations can be attractiveness factors - especially since i look at the weekdays morning peak period - school going students\nWhere to get the data and how to import with the hexagon layer\nHDB property information - types of hdb properties, total dwelling units - to find out the number of households to peg into the hexagon unit, as a proxy to estimate the population, 80% of the population stays in HDB (Not including Condo, Private, Landed) - unlikely that they take public transport? Need to convert the lat-long to geometry data\nif we want to have a more accurate proxy - we can go by the type of the hbb flat (1 room, 2 room, 3 room) - multiply by the typical size"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html",
    "href": "InClassEx/Ex04/inclassex4.html",
    "title": "In Class Ex 4",
    "section": "",
    "text": "In this exercise - we will do hands-on on the following:\n\nPerforming geocoding\ncalibrating Geographically Weighted Poisson Regression"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#querying-the-latlong-of-schools-through-one-map",
    "href": "InClassEx/Ex04/inclassex4.html#querying-the-latlong-of-schools-through-one-map",
    "title": "In Class Ex 4",
    "section": "Querying the Lat,Long of Schools through One Map",
    "text": "Querying the Lat,Long of Schools through One Map\n\nurl &lt;- \"https://www.onemap.gov.sg/api/common/elastic/search\"\n\n\ncsv &lt;- read_csv(\"data/aspatial/GeneralInformationofschools.csv\")\n\npostcodes &lt;- csv$postal_code #to only send in the postalcode, this will keep it simpler and faster \n\nfound &lt;- data.frame()\nnot_found &lt;- data.frame()\n\nfor (postcode in postcodes) {\n  query &lt;- list(\"searchVal\" = postcode, 'returnGeom' = 'Y', 'getAddrDetails' = 'Y', 'pageNum' = '1')\n  res &lt;- GET(url, query = query)\n  \n  if((content(res)$found)!=0) {\n    found &lt;- rbind (found, data.frame(content(res))[4:13], show_col_types = FALSE)\n    } else {\n    not_found = data.frame(postcode)\n    }\n}"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#data-wrangling",
    "href": "InClassEx/Ex04/inclassex4.html#data-wrangling",
    "title": "In Class Ex 4",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nTo ensure that we have the correct number of data.\n\n345 schools with lat,long\n1 school not found - Zheng Hua Secondary School\n\n\nmerged = merge (csv, found, by.x = 'postal_code', by.y = 'results.POSTAL', all=TRUE)\n\nmerged_cleaned &lt;- na.omit(merged)\n\nduplicate &lt;- merged_cleaned %&gt;%\n  group_by_all() %&gt;%\n  filter(n()&gt;1) %&gt;%\n  ungroup()\n\nmerged_cleaned &lt;- unique(merged_cleaned)"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#write-the-data-back-to-.csv",
    "href": "InClassEx/Ex04/inclassex4.html#write-the-data-back-to-.csv",
    "title": "In Class Ex 4",
    "section": "Write the Data back to .csv",
    "text": "Write the Data back to .csv\n\nwrite.csv(merged_cleaned, \"data/aspatial/schools.csv\")\nwrite.csv(not_found, \"data/aspatial/not_found.csv\")"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#re-read-the-data-and-select-key-data",
    "href": "InClassEx/Ex04/inclassex4.html#re-read-the-data-and-select-key-data",
    "title": "In Class Ex 4",
    "section": "Re-read the data and select key data",
    "text": "Re-read the data and select key data\n\nschools &lt;- read_csv (\"data/aspatial/schools.csv\") %&gt;%\n  rename (latitude = \"results.LATITUDE\",\n          longitude = \"results.LONGITUDE\") %&gt;%\n  select(postal_code, school_name, latitude, longitude)"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#mapping-the-locations-of-schools",
    "href": "InClassEx/Ex04/inclassex4.html#mapping-the-locations-of-schools",
    "title": "In Class Ex 4",
    "section": "Mapping the Locations of Schools",
    "text": "Mapping the Locations of Schools\n\nschools_sf &lt;- st_as_sf(schools,\n                      coords = c(\"longitude\", \"latitude\"),\n                      crs = 4326) %&gt;%\n  st_transform (crs=3414)\n\n\nwrite_rds(schools_sf, \"data/rds/schools_sf.rds\")\n\n\ntmap_mode(\"view\")\n\ntm_shape(schools_sf) +\n  tm_dots()"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#plotting-together-with-mpsz-2019-data",
    "href": "InClassEx/Ex04/inclassex4.html#plotting-together-with-mpsz-2019-data",
    "title": "In Class Ex 4",
    "section": "Plotting together with MPSZ 2019 Data",
    "text": "Plotting together with MPSZ 2019 Data\n\nmpsz = st_read(dsn = \"data/geospatial\", \n               layer = \"MPSZ-2019\") %&gt;%\n  st_transform (crs = 3414)\n\nReading layer `MPSZ-2019' from data source \n  `C:\\zjjgithubb\\ISSS624\\InClassEx\\Ex04\\data\\geospatial' using driver `ESRI Shapefile'\nSimple feature collection with 332 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 103.6057 ymin: 1.158699 xmax: 104.0885 ymax: 1.470775\nGeodetic CRS:  WGS 84\n\n\n\nwrite_rds(mpsz, \"data/rds/mpsz.rds\") \n\n\nmpsz$SCHOOL_COUNT &lt;- lengths(\n  st_intersects(\n    mpsz, schools_sf))\n\n\nsummary(mpsz$SCHOOL_COUNT)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   0.000   0.000   1.039   2.000  12.000"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#other-factors---business-and-retail",
    "href": "InClassEx/Ex04/inclassex4.html#other-factors---business-and-retail",
    "title": "In Class Ex 4",
    "section": "Other Factors - Business and Retail",
    "text": "Other Factors - Business and Retail\n\nretails_sf &lt;- st_read(dsn = \"data/geospatial\", \n               layer = \"Retails\")\n\nReading layer `Retails' from data source \n  `C:\\zjjgithubb\\ISSS624\\InClassEx\\Ex04\\data\\geospatial' using driver `ESRI Shapefile'\nSimple feature collection with 37635 features and 3 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 4737.982 ymin: 25171.88 xmax: 48265.04 ymax: 50135.28\nProjected CRS: SVY21 / Singapore TM\n\n\n\nbusiness_sf &lt;- st_read(dsn = \"data/geospatial\", \n               layer = \"Business\")\n\nReading layer `Business' from data source \n  `C:\\zjjgithubb\\ISSS624\\InClassEx\\Ex04\\data\\geospatial' using driver `ESRI Shapefile'\nSimple feature collection with 6550 features and 3 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 3669.148 ymin: 25408.41 xmax: 47034.83 ymax: 50148.54\nProjected CRS: SVY21 / Singapore TM\n\n\n\ntmap_options(check.and.fix = TRUE)\ntmap_mode(\"plot\")\n\ntm_shape(mpsz) +\n  tm_polygons() +\ntm_shape(retails_sf) +\n  tm_dots()\n\n\n\n\n\ntmap_options(check.and.fix = TRUE)\ntmap_mode(\"plot\")\n\ntm_shape(mpsz) +\n  tm_polygons() +\ntm_shape(business_sf) +\n  tm_dots()\n\n\n\n\nUsing the destination code not origin code - to specify the attractiveness, if we are looking at the flow from home to destination.\n\nflow_data_1 &lt;- flow_data_1 %&gt;%\n  left_join(mpsz_tidy,\n            by = c(\"DESTN_SZ\" = \"SUBZONE_C\"))\n\nMust check for 0 values! -&gt; Because we are using log function - 0 will cause errors!"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#loading-the-packages",
    "href": "InClassEx/Ex04/inclassex4.html#loading-the-packages",
    "title": "In Class Ex 4",
    "section": "Loading the Packages",
    "text": "Loading the Packages\n\npacman::p_load(tmap, sf, sp, DT,\n               performance, reshape2,\n               ggpubr, tidyverse)\n\nNeed to adjust the retail_count to business_count?\n\nflow_data_2 &lt;- read_rds (\"data/rds/flow_data_tidy.rds\")\n\n\nflow_data_2$FlowNoIntra &lt;- ifelse(\n  flow_data_2$ORIGIN_SZ == flow_data_2$DESTIN_SZ, \n  0, flow_data_2$MORNING_PEAK)\n\nflow_data_2$offset &lt;- ifelse(\n  flow_data_2$ORIGIN_SZ == flow_data_2$DESTIN_SZ, \n  0.000001, 1)\n\n\ninter_zonal_flow &lt;- flow_data_2 %&gt;%\n  filter (FlowNoIntra &gt; 0)\n\n\ninter_zonal_flow &lt;- inter_zonal_flow %&gt;%\n  rename (TRIPS = MORNING_PEAK,\n          DIST = dist)"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#origin-constrained-sim",
    "href": "InClassEx/Ex04/inclassex4.html#origin-constrained-sim",
    "title": "In Class Ex 4",
    "section": "Origin Constrained SIM",
    "text": "Origin Constrained SIM\n\norcSIM_Poisson &lt;- glm(formula = TRIPS ~ \n                 ORIGIN_SZ +\n                 log(SCHOOL_COUNT) +\n                 log(RETAIL_COUNT) +\n                 log(DIST) - 1 ,  #-1 is to remove the intercept\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\nsummary(orcSIM_Poisson)\n\n\nCall:\nglm(formula = TRIPS ~ ORIGIN_SZ + log(SCHOOL_COUNT) + log(RETAIL_COUNT) + \n    log(DIST) - 1, family = poisson(link = \"log\"), data = inter_zonal_flow, \n    na.action = na.exclude)\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-250.52   -17.17    -7.98     1.24   470.15  \n\nCoefficients:\n                    Estimate Std. Error  z value Pr(&gt;|z|)    \nORIGIN_SZAMSZ01   19.8739840  0.0047627  4172.84   &lt;2e-16 ***\nORIGIN_SZAMSZ02   20.5902203  0.0042786  4812.33   &lt;2e-16 ***\nORIGIN_SZAMSZ03   20.2327026  0.0045531  4443.70   &lt;2e-16 ***\nORIGIN_SZAMSZ04   19.7744438  0.0049837  3967.79   &lt;2e-16 ***\nORIGIN_SZAMSZ05   19.6574529  0.0056396  3485.61   &lt;2e-16 ***\nORIGIN_SZAMSZ06   19.9659115  0.0048946  4079.16   &lt;2e-16 ***\nORIGIN_SZAMSZ07   18.6746164  0.0096316  1938.90   &lt;2e-16 ***\nORIGIN_SZAMSZ08   19.2701601  0.0090776  2122.82   &lt;2e-16 ***\nORIGIN_SZAMSZ09   19.9889467  0.0052858  3781.64   &lt;2e-16 ***\nORIGIN_SZAMSZ10   20.3422035  0.0045778  4443.62   &lt;2e-16 ***\nORIGIN_SZAMSZ11   18.3944113  0.0129212  1423.58   &lt;2e-16 ***\nORIGIN_SZAMSZ12   18.3484209  0.0109652  1673.33   &lt;2e-16 ***\nORIGIN_SZBDSZ01   20.9668587  0.0043388  4832.36   &lt;2e-16 ***\nORIGIN_SZBDSZ02   20.4059518  0.0050601  4032.75   &lt;2e-16 ***\nORIGIN_SZBDSZ03   20.6725514  0.0045276  4565.93   &lt;2e-16 ***\nORIGIN_SZBDSZ04   21.6703853  0.0038930  5566.44   &lt;2e-16 ***\nORIGIN_SZBDSZ05   20.7497445  0.0046085  4502.46   &lt;2e-16 ***\nORIGIN_SZBDSZ06   20.9119361  0.0046432  4503.77   &lt;2e-16 ***\nORIGIN_SZBDSZ07   18.9749815  0.0097896  1938.28   &lt;2e-16 ***\nORIGIN_SZBDSZ08   19.1933901  0.0091312  2101.95   &lt;2e-16 ***\nORIGIN_SZBKSZ01   19.5422606  0.0064732  3018.96   &lt;2e-16 ***\nORIGIN_SZBKSZ02   20.1748913  0.0050076  4028.89   &lt;2e-16 ***\nORIGIN_SZBKSZ03   20.3984624  0.0047226  4319.35   &lt;2e-16 ***\nORIGIN_SZBKSZ04   19.6182212  0.0059652  3288.76   &lt;2e-16 ***\nORIGIN_SZBKSZ05   19.6033818  0.0063181  3102.74   &lt;2e-16 ***\nORIGIN_SZBKSZ06   19.7145224  0.0056372  3497.20   &lt;2e-16 ***\nORIGIN_SZBKSZ07   20.4237448  0.0041912  4873.03   &lt;2e-16 ***\nORIGIN_SZBKSZ08   19.7992538  0.0050405  3928.02   &lt;2e-16 ***\nORIGIN_SZBKSZ09   19.7821586  0.0055558  3560.66   &lt;2e-16 ***\nORIGIN_SZBLSZ01   17.7977276  0.0149058  1194.01   &lt;2e-16 ***\nORIGIN_SZBLSZ02   17.4287491  0.0192364   906.03   &lt;2e-16 ***\nORIGIN_SZBLSZ03   16.5884288  0.0459848   360.74   &lt;2e-16 ***\nORIGIN_SZBLSZ04   17.7851626  0.0232823   763.89   &lt;2e-16 ***\nORIGIN_SZBMSZ01   20.0751840  0.0052887  3795.89   &lt;2e-16 ***\nORIGIN_SZBMSZ02   18.6956140  0.0066656  2804.80   &lt;2e-16 ***\nORIGIN_SZBMSZ03   19.3204425  0.0054755  3528.56   &lt;2e-16 ***\nORIGIN_SZBMSZ04   19.4724220  0.0049390  3942.59   &lt;2e-16 ***\nORIGIN_SZBMSZ05   16.9581801  0.0168804  1004.61   &lt;2e-16 ***\nORIGIN_SZBMSZ06   16.9898638  0.0181852   934.27   &lt;2e-16 ***\nORIGIN_SZBMSZ07   19.2868403  0.0056231  3429.91   &lt;2e-16 ***\nORIGIN_SZBMSZ08   19.1477543  0.0055918  3424.28   &lt;2e-16 ***\nORIGIN_SZBMSZ09   18.7564539  0.0086298  2173.46   &lt;2e-16 ***\nORIGIN_SZBMSZ10   18.3617854  0.0089250  2057.35   &lt;2e-16 ***\nORIGIN_SZBMSZ11   18.9167941  0.0063340  2986.54   &lt;2e-16 ***\nORIGIN_SZBMSZ12   18.7874661  0.0093024  2019.63   &lt;2e-16 ***\nORIGIN_SZBMSZ13   19.5654046  0.0057517  3401.70   &lt;2e-16 ***\nORIGIN_SZBMSZ14   19.0685619  0.0063346  3010.24   &lt;2e-16 ***\nORIGIN_SZBMSZ15   19.4403124  0.0058147  3343.30   &lt;2e-16 ***\nORIGIN_SZBMSZ16   18.4469203  0.0092638  1991.28   &lt;2e-16 ***\nORIGIN_SZBMSZ17   18.3430175  0.0157692  1163.22   &lt;2e-16 ***\nORIGIN_SZBPSZ01   20.1806714  0.0053660  3760.81   &lt;2e-16 ***\nORIGIN_SZBPSZ02   19.8116707  0.0061485  3222.19   &lt;2e-16 ***\nORIGIN_SZBPSZ03   19.8467602  0.0059769  3320.57   &lt;2e-16 ***\nORIGIN_SZBPSZ04   20.4613200  0.0048398  4227.72   &lt;2e-16 ***\nORIGIN_SZBPSZ05   20.5379711  0.0043769  4692.39   &lt;2e-16 ***\nORIGIN_SZBPSZ06   18.8948034  0.0093668  2017.21   &lt;2e-16 ***\nORIGIN_SZBPSZ07   19.4104568  0.0087961  2206.70   &lt;2e-16 ***\nORIGIN_SZBSSZ01   20.0139503  0.0056561  3538.45   &lt;2e-16 ***\nORIGIN_SZBSSZ02   20.2543885  0.0047198  4291.38   &lt;2e-16 ***\nORIGIN_SZBSSZ03   19.5428803  0.0052713  3707.41   &lt;2e-16 ***\nORIGIN_SZBTSZ01   20.0198045  0.0058541  3419.77   &lt;2e-16 ***\nORIGIN_SZBTSZ02   19.3618525  0.0081472  2376.51   &lt;2e-16 ***\nORIGIN_SZBTSZ03   19.5883853  0.0068935  2841.59   &lt;2e-16 ***\nORIGIN_SZBTSZ04   18.7720238  0.0103909  1806.58   &lt;2e-16 ***\nORIGIN_SZBTSZ05   18.8069026  0.0120628  1559.08   &lt;2e-16 ***\nORIGIN_SZBTSZ06   18.7068633  0.0094575  1978.00   &lt;2e-16 ***\nORIGIN_SZBTSZ07   17.6292257  0.0141551  1245.43   &lt;2e-16 ***\nORIGIN_SZBTSZ08   18.6989374  0.0109610  1705.94   &lt;2e-16 ***\nORIGIN_SZCBSZ01   18.2189868  0.0548317   332.27   &lt;2e-16 ***\nORIGIN_SZCCSZ01   18.9734563  0.0139450  1360.59   &lt;2e-16 ***\nORIGIN_SZCHSZ01   19.5955119  0.0121035  1619.00   &lt;2e-16 ***\nORIGIN_SZCHSZ02   19.3320960  0.0081620  2368.55   &lt;2e-16 ***\nORIGIN_SZCHSZ03   21.2164518  0.0063552  3338.43   &lt;2e-16 ***\nORIGIN_SZCKSZ01   20.1046845  0.0049333  4075.29   &lt;2e-16 ***\nORIGIN_SZCKSZ02   20.5371946  0.0050256  4086.53   &lt;2e-16 ***\nORIGIN_SZCKSZ03   20.7210560  0.0042184  4912.07   &lt;2e-16 ***\nORIGIN_SZCKSZ04   21.4013886  0.0042524  5032.80   &lt;2e-16 ***\nORIGIN_SZCKSZ05   20.9413146  0.0049434  4236.18   &lt;2e-16 ***\nORIGIN_SZCKSZ06   20.2557727  0.0071832  2819.88   &lt;2e-16 ***\nORIGIN_SZCLSZ01   19.3383703  0.0076634  2523.46   &lt;2e-16 ***\nORIGIN_SZCLSZ02   18.5226956  0.0135522  1366.77   &lt;2e-16 ***\nORIGIN_SZCLSZ03   19.0225512  0.0080145  2373.51   &lt;2e-16 ***\nORIGIN_SZCLSZ04   20.7981505  0.0042400  4905.22   &lt;2e-16 ***\nORIGIN_SZCLSZ05   18.3015625  0.0146815  1246.58   &lt;2e-16 ***\nORIGIN_SZCLSZ06   20.8207386  0.0039567  5262.09   &lt;2e-16 ***\nORIGIN_SZCLSZ07   19.6728958  0.0054199  3629.76   &lt;2e-16 ***\nORIGIN_SZCLSZ08   20.0851929  0.0056956  3526.43   &lt;2e-16 ***\nORIGIN_SZCLSZ09   18.5749589  0.0165415  1122.93   &lt;2e-16 ***\nORIGIN_SZDTSZ02   15.8276209  0.0833992   189.78   &lt;2e-16 ***\nORIGIN_SZDTSZ03   16.2512838  0.0737972   220.22   &lt;2e-16 ***\nORIGIN_SZDTSZ13   16.7744385  0.0312450   536.87   &lt;2e-16 ***\nORIGIN_SZGLSZ01   18.2368248  0.0096104  1897.62   &lt;2e-16 ***\nORIGIN_SZGLSZ02   19.8705255  0.0049014  4054.06   &lt;2e-16 ***\nORIGIN_SZGLSZ03   19.8249435  0.0053109  3732.85   &lt;2e-16 ***\nORIGIN_SZGLSZ04   20.7800335  0.0041261  5036.20   &lt;2e-16 ***\nORIGIN_SZGLSZ05   20.6040494  0.0043049  4786.23   &lt;2e-16 ***\nORIGIN_SZHGSZ01   20.0273475  0.0044824  4468.04   &lt;2e-16 ***\nORIGIN_SZHGSZ02   20.2480656  0.0044575  4542.47   &lt;2e-16 ***\nORIGIN_SZHGSZ03   20.0756442  0.0049003  4096.81   &lt;2e-16 ***\nORIGIN_SZHGSZ04   20.7577748  0.0040465  5129.84   &lt;2e-16 ***\nORIGIN_SZHGSZ05   20.9779992  0.0040123  5228.42   &lt;2e-16 ***\nORIGIN_SZHGSZ06   19.7403058  0.0054229  3640.20   &lt;2e-16 ***\nORIGIN_SZHGSZ07   20.1896268  0.0046051  4384.22   &lt;2e-16 ***\nORIGIN_SZHGSZ08   19.8646492  0.0052403  3790.72   &lt;2e-16 ***\nORIGIN_SZHGSZ09   18.3647736  0.0069196  2654.04   &lt;2e-16 ***\nORIGIN_SZHGSZ10   16.8720475  0.0421046   400.72   &lt;2e-16 ***\nORIGIN_SZJESZ01   20.2673794  0.0046723  4337.79   &lt;2e-16 ***\nORIGIN_SZJESZ02   20.0595982  0.0046503  4313.61   &lt;2e-16 ***\nORIGIN_SZJESZ03   19.9128778  0.0049848  3994.75   &lt;2e-16 ***\nORIGIN_SZJESZ04   18.5053667  0.0099227  1864.94   &lt;2e-16 ***\nORIGIN_SZJESZ05   17.8172930  0.0138840  1283.29   &lt;2e-16 ***\nORIGIN_SZJESZ06   20.0124157  0.0045009  4446.36   &lt;2e-16 ***\nORIGIN_SZJESZ07   18.1821423  0.0117267  1550.49   &lt;2e-16 ***\nORIGIN_SZJESZ08   18.8713046  0.0116456  1620.46   &lt;2e-16 ***\nORIGIN_SZJESZ09   20.5535527  0.0048456  4241.72   &lt;2e-16 ***\nORIGIN_SZJESZ10   18.4922322  0.0191243   966.95   &lt;2e-16 ***\nORIGIN_SZJESZ11   18.2891211  0.0197114   927.85   &lt;2e-16 ***\nORIGIN_SZJWSZ01   20.4912737  0.0063102  3247.35   &lt;2e-16 ***\nORIGIN_SZJWSZ02   20.8236694  0.0042249  4928.82   &lt;2e-16 ***\nORIGIN_SZJWSZ03   21.2587613  0.0039733  5350.40   &lt;2e-16 ***\nORIGIN_SZJWSZ04   20.3816464  0.0046199  4411.67   &lt;2e-16 ***\nORIGIN_SZJWSZ05   18.0607448  0.0128857  1401.61   &lt;2e-16 ***\nORIGIN_SZJWSZ06   18.7015202  0.0107614  1737.83   &lt;2e-16 ***\nORIGIN_SZJWSZ07   17.3991822  0.0277096   627.91   &lt;2e-16 ***\nORIGIN_SZJWSZ08   21.8044465  0.0037356  5836.95   &lt;2e-16 ***\nORIGIN_SZJWSZ09   21.5414930  0.0036033  5978.19   &lt;2e-16 ***\nORIGIN_SZKLSZ01   20.0307712  0.0047868  4184.59   &lt;2e-16 ***\nORIGIN_SZKLSZ02   19.0634769  0.0062318  3059.05   &lt;2e-16 ***\nORIGIN_SZKLSZ03   19.2685700  0.0057172  3370.25   &lt;2e-16 ***\nORIGIN_SZKLSZ04   17.7085067  0.0119809  1478.06   &lt;2e-16 ***\nORIGIN_SZKLSZ05   18.6384471  0.0107596  1732.26   &lt;2e-16 ***\nORIGIN_SZKLSZ06   13.7280296  0.1857160    73.92   &lt;2e-16 ***\nORIGIN_SZKLSZ07   18.6425146  0.0084952  2194.47   &lt;2e-16 ***\nORIGIN_SZKLSZ08   18.0928506  0.0101567  1781.37   &lt;2e-16 ***\nORIGIN_SZLKSZ01   17.8907138  0.0397083   450.55   &lt;2e-16 ***\nORIGIN_SZMDSZ01   18.7605188  0.0285455   657.22   &lt;2e-16 ***\nORIGIN_SZMDSZ02   19.1533927  0.0102815  1862.90   &lt;2e-16 ***\nORIGIN_SZMDSZ03   17.8404982  0.0169690  1051.36   &lt;2e-16 ***\nORIGIN_SZMPSZ01   19.0765941  0.0083937  2272.74   &lt;2e-16 ***\nORIGIN_SZMPSZ02   19.2162527  0.0068331  2812.24   &lt;2e-16 ***\nORIGIN_SZMPSZ03   19.9965344  0.0054569  3664.44   &lt;2e-16 ***\nORIGIN_SZMUSZ02   15.9130765  0.1037472   153.38   &lt;2e-16 ***\nORIGIN_SZNTSZ01   17.0840999  0.0352513   484.64   &lt;2e-16 ***\nORIGIN_SZNTSZ02   16.5792122  0.0233186   710.99   &lt;2e-16 ***\nORIGIN_SZNTSZ03   18.9506415  0.0075957  2494.93   &lt;2e-16 ***\nORIGIN_SZNTSZ05   15.8770261  0.0495825   320.21   &lt;2e-16 ***\nORIGIN_SZNTSZ06   15.3997415  0.0557029   276.46   &lt;2e-16 ***\nORIGIN_SZNVSZ01   20.2241694  0.0043487  4650.65   &lt;2e-16 ***\nORIGIN_SZNVSZ02   19.1897826  0.0065383  2934.97   &lt;2e-16 ***\nORIGIN_SZNVSZ03   18.8854268  0.0080459  2347.22   &lt;2e-16 ***\nORIGIN_SZNVSZ04   18.8940191  0.0090985  2076.61   &lt;2e-16 ***\nORIGIN_SZNVSZ05   17.6278585  0.0168107  1048.61   &lt;2e-16 ***\nORIGIN_SZPGSZ01   19.4825220  0.0122960  1584.46   &lt;2e-16 ***\nORIGIN_SZPGSZ02   19.4726761  0.0073116  2663.25   &lt;2e-16 ***\nORIGIN_SZPGSZ03   20.5515713  0.0045631  4503.86   &lt;2e-16 ***\nORIGIN_SZPGSZ04   21.0527131  0.0041500  5072.89   &lt;2e-16 ***\nORIGIN_SZPGSZ05   20.1436604  0.0057267  3517.48   &lt;2e-16 ***\nORIGIN_SZPLSZ01   19.1832002  0.0120006  1598.53   &lt;2e-16 ***\nORIGIN_SZPLSZ02   18.8752206  0.0149740  1260.53   &lt;2e-16 ***\nORIGIN_SZPLSZ03   18.1000818  0.0371769   486.86   &lt;2e-16 ***\nORIGIN_SZPLSZ04   17.1730559  0.0370280   463.79   &lt;2e-16 ***\nORIGIN_SZPLSZ05   17.9084439  0.0225031   795.82   &lt;2e-16 ***\nORIGIN_SZPNSZ01   21.0804425  0.0044829  4702.41   &lt;2e-16 ***\nORIGIN_SZPNSZ02   19.8822123  0.0111507  1783.05   &lt;2e-16 ***\nORIGIN_SZPNSZ03   17.9293289  0.0193571   926.24   &lt;2e-16 ***\nORIGIN_SZPNSZ04   17.1039594  0.0334954   510.64   &lt;2e-16 ***\nORIGIN_SZPNSZ05   18.2543864  0.0275554   662.46   &lt;2e-16 ***\nORIGIN_SZPRSZ01   19.8777935  0.0117586  1690.49   &lt;2e-16 ***\nORIGIN_SZPRSZ02   21.0751780  0.0044832  4700.88   &lt;2e-16 ***\nORIGIN_SZPRSZ03   20.6717019  0.0045577  4535.55   &lt;2e-16 ***\nORIGIN_SZPRSZ04   19.6365125  0.0074923  2620.90   &lt;2e-16 ***\nORIGIN_SZPRSZ05   21.3132151  0.0042119  5060.24   &lt;2e-16 ***\nORIGIN_SZPRSZ06   18.9314574  0.0117278  1614.24   &lt;2e-16 ***\nORIGIN_SZPRSZ07   17.2822918  0.0162430  1063.98   &lt;2e-16 ***\nORIGIN_SZPRSZ08   19.9267642  0.0062298  3198.62   &lt;2e-16 ***\nORIGIN_SZQTSZ01   19.7357175  0.0066359  2974.08   &lt;2e-16 ***\nORIGIN_SZQTSZ02   19.2082141  0.0061402  3128.26   &lt;2e-16 ***\nORIGIN_SZQTSZ03   19.7771883  0.0056220  3517.83   &lt;2e-16 ***\nORIGIN_SZQTSZ04   18.7114421  0.0072842  2568.76   &lt;2e-16 ***\nORIGIN_SZQTSZ05   19.3049324  0.0062401  3093.69   &lt;2e-16 ***\nORIGIN_SZQTSZ06   19.2643228  0.0065590  2937.09   &lt;2e-16 ***\nORIGIN_SZQTSZ07   18.5697347  0.0095373  1947.06   &lt;2e-16 ***\nORIGIN_SZQTSZ08   19.6147001  0.0061330  3198.21   &lt;2e-16 ***\nORIGIN_SZQTSZ09   19.2550793  0.0069947  2752.82   &lt;2e-16 ***\nORIGIN_SZQTSZ10   19.5801866  0.0064513  3035.07   &lt;2e-16 ***\nORIGIN_SZQTSZ11   17.7398366  0.0143648  1234.95   &lt;2e-16 ***\nORIGIN_SZQTSZ12   17.2420354  0.0186736   923.34   &lt;2e-16 ***\nORIGIN_SZQTSZ13   19.3857418  0.0078878  2457.69   &lt;2e-16 ***\nORIGIN_SZQTSZ14   18.1300753  0.0122096  1484.90   &lt;2e-16 ***\nORIGIN_SZQTSZ15   19.4222283  0.0120871  1606.86   &lt;2e-16 ***\nORIGIN_SZRCSZ01   18.1549045  0.0125108  1451.13   &lt;2e-16 ***\nORIGIN_SZRCSZ06   18.8836400  0.0082161  2298.38   &lt;2e-16 ***\nORIGIN_SZRVSZ01   16.7864438  0.0323796   518.43   &lt;2e-16 ***\nORIGIN_SZRVSZ02   16.4203244  0.0276836   593.14   &lt;2e-16 ***\nORIGIN_SZRVSZ03   16.6453738  0.0244992   679.42   &lt;2e-16 ***\nORIGIN_SZRVSZ04   15.9559213  0.0556344   286.80   &lt;2e-16 ***\nORIGIN_SZRVSZ05   17.0476331  0.0164122  1038.71   &lt;2e-16 ***\nORIGIN_SZSBSZ01   20.0417968  0.0062488  3207.29   &lt;2e-16 ***\nORIGIN_SZSBSZ02   19.1869565  0.0081051  2367.26   &lt;2e-16 ***\nORIGIN_SZSBSZ03   20.5769861  0.0045108  4561.70   &lt;2e-16 ***\nORIGIN_SZSBSZ04   20.5154199  0.0050548  4058.57   &lt;2e-16 ***\nORIGIN_SZSBSZ05   19.6250669  0.0065562  2993.35   &lt;2e-16 ***\nORIGIN_SZSBSZ06   18.8419757  0.0171135  1101.00   &lt;2e-16 ***\nORIGIN_SZSBSZ07   19.4897259  0.0124528  1565.09   &lt;2e-16 ***\nORIGIN_SZSBSZ08   18.7027917  0.0140545  1330.73   &lt;2e-16 ***\nORIGIN_SZSBSZ09   18.8893480  0.0088571  2132.67   &lt;2e-16 ***\nORIGIN_SZSESZ02   20.8962192  0.0041665  5015.34   &lt;2e-16 ***\nORIGIN_SZSESZ03   20.9452771  0.0039737  5270.94   &lt;2e-16 ***\nORIGIN_SZSESZ04   20.6576142  0.0046364  4455.55   &lt;2e-16 ***\nORIGIN_SZSESZ05   19.5170732  0.0058912  3312.92   &lt;2e-16 ***\nORIGIN_SZSESZ06   20.7595824  0.0045747  4537.89   &lt;2e-16 ***\nORIGIN_SZSESZ07   17.6888256  0.0195787   903.47   &lt;2e-16 ***\nORIGIN_SZSGSZ01   19.1359250  0.0085781  2230.79   &lt;2e-16 ***\nORIGIN_SZSGSZ02   18.5614369  0.0102037  1819.10   &lt;2e-16 ***\nORIGIN_SZSGSZ03   19.9933176  0.0050434  3964.23   &lt;2e-16 ***\nORIGIN_SZSGSZ04   20.2426871  0.0047211  4287.71   &lt;2e-16 ***\nORIGIN_SZSGSZ05   18.0114965  0.0107743  1671.70   &lt;2e-16 ***\nORIGIN_SZSGSZ06   20.2593194  0.0044538  4548.76   &lt;2e-16 ***\nORIGIN_SZSGSZ07   19.0763664  0.0062968  3029.54   &lt;2e-16 ***\nORIGIN_SZSKSZ01   19.9222451  0.0085136  2340.04   &lt;2e-16 ***\nORIGIN_SZSKSZ02   20.8633383  0.0055248  3776.33   &lt;2e-16 ***\nORIGIN_SZSKSZ03   19.6528148  0.0080534  2440.33   &lt;2e-16 ***\nORIGIN_SZSKSZ04   18.0754470  0.0275771   655.45   &lt;2e-16 ***\nORIGIN_SZSKSZ05   19.1192521  0.0155579  1228.91   &lt;2e-16 ***\nORIGIN_SZSLSZ01   17.1501034  0.0329384   520.67   &lt;2e-16 ***\nORIGIN_SZSLSZ04   19.5949774  0.0076753  2552.98   &lt;2e-16 ***\nORIGIN_SZSRSZ01   16.9761403  0.0162020  1047.78   &lt;2e-16 ***\nORIGIN_SZTHSZ01   17.9695687  0.0488559   367.81   &lt;2e-16 ***\nORIGIN_SZTHSZ03   18.5427522  0.0223617   829.22   &lt;2e-16 ***\nORIGIN_SZTHSZ04   17.4760374  0.0286247   610.52   &lt;2e-16 ***\nORIGIN_SZTHSZ06   17.8401186  0.0183322   973.16   &lt;2e-16 ***\nORIGIN_SZTMSZ01   20.3406361  0.0056607  3593.33   &lt;2e-16 ***\nORIGIN_SZTMSZ02   22.0307026  0.0037386  5892.85   &lt;2e-16 ***\nORIGIN_SZTMSZ03   21.3451920  0.0040606  5256.65   &lt;2e-16 ***\nORIGIN_SZTMSZ04   20.6611593  0.0049896  4140.87   &lt;2e-16 ***\nORIGIN_SZTMSZ05   19.3323133  0.0112868  1712.82   &lt;2e-16 ***\nORIGIN_SZTNSZ01   17.9513571  0.0128266  1399.54   &lt;2e-16 ***\nORIGIN_SZTNSZ02   18.0267387  0.0098372  1832.51   &lt;2e-16 ***\nORIGIN_SZTNSZ03   17.7253700  0.0134668  1316.23   &lt;2e-16 ***\nORIGIN_SZTNSZ04   19.4474075  0.0073760  2636.59   &lt;2e-16 ***\nORIGIN_SZTPSZ01   19.1078631  0.0065635  2911.25   &lt;2e-16 ***\nORIGIN_SZTPSZ02   20.2837634  0.0041411  4898.18   &lt;2e-16 ***\nORIGIN_SZTPSZ03   19.1838238  0.0059552  3221.37   &lt;2e-16 ***\nORIGIN_SZTPSZ04   19.1805388  0.0054778  3501.53   &lt;2e-16 ***\nORIGIN_SZTPSZ05   19.3718076  0.0058610  3305.18   &lt;2e-16 ***\nORIGIN_SZTPSZ06   19.6605723  0.0054968  3576.70   &lt;2e-16 ***\nORIGIN_SZTPSZ07   19.4499807  0.0060491  3215.36   &lt;2e-16 ***\nORIGIN_SZTPSZ08   18.7996538  0.0095757  1963.28   &lt;2e-16 ***\nORIGIN_SZTPSZ09   19.0025110  0.0067068  2833.31   &lt;2e-16 ***\nORIGIN_SZTPSZ10   18.8899657  0.0076094  2482.46   &lt;2e-16 ***\nORIGIN_SZTPSZ11   19.6277780  0.0053983  3635.93   &lt;2e-16 ***\nORIGIN_SZTPSZ12   19.1471104  0.0065742  2912.45   &lt;2e-16 ***\nORIGIN_SZTSSZ01   17.4901113  0.0478954   365.17   &lt;2e-16 ***\nORIGIN_SZTSSZ02   20.4997466  0.0081850  2504.55   &lt;2e-16 ***\nORIGIN_SZTSSZ03   20.1076553  0.0084728  2373.19   &lt;2e-16 ***\nORIGIN_SZTSSZ04   20.0646610  0.0089008  2254.26   &lt;2e-16 ***\nORIGIN_SZTSSZ05   19.3962067  0.0151392  1281.19   &lt;2e-16 ***\nORIGIN_SZTSSZ06   20.9235857  0.0178278  1173.65   &lt;2e-16 ***\nORIGIN_SZWCSZ01   20.8411600  0.0086519  2408.86   &lt;2e-16 ***\nORIGIN_SZWCSZ02   17.7355404  0.0328889   539.26   &lt;2e-16 ***\nORIGIN_SZWCSZ03   14.9380886  0.1240699   120.40   &lt;2e-16 ***\nORIGIN_SZWDSZ01   21.1969012  0.0037830  5603.23   &lt;2e-16 ***\nORIGIN_SZWDSZ02   20.5930001  0.0044572  4620.13   &lt;2e-16 ***\nORIGIN_SZWDSZ03   21.2521867  0.0041672  5099.85   &lt;2e-16 ***\nORIGIN_SZWDSZ04   21.0702687  0.0048648  4331.13   &lt;2e-16 ***\nORIGIN_SZWDSZ05   20.4008998  0.0051801  3938.35   &lt;2e-16 ***\nORIGIN_SZWDSZ06   20.6669176  0.0049280  4193.78   &lt;2e-16 ***\nORIGIN_SZWDSZ07   19.0500370  0.0082729  2302.71   &lt;2e-16 ***\nORIGIN_SZWDSZ08   19.0816252  0.0080667  2365.49   &lt;2e-16 ***\nORIGIN_SZWDSZ09   21.4182096  0.0040391  5302.73   &lt;2e-16 ***\nORIGIN_SZYSSZ01   19.5355157  0.0057540  3395.14   &lt;2e-16 ***\nORIGIN_SZYSSZ02   20.8737972  0.0048278  4323.64   &lt;2e-16 ***\nORIGIN_SZYSSZ03   21.6614437  0.0040011  5413.81   &lt;2e-16 ***\nORIGIN_SZYSSZ04   20.9305289  0.0043595  4801.10   &lt;2e-16 ***\nORIGIN_SZYSSZ05   20.1727678  0.0058466  3450.34   &lt;2e-16 ***\nORIGIN_SZYSSZ06   19.1481507  0.0116724  1640.47   &lt;2e-16 ***\nORIGIN_SZYSSZ07   18.7919074  0.0141636  1326.78   &lt;2e-16 ***\nORIGIN_SZYSSZ08   19.9733515  0.0061229  3262.07   &lt;2e-16 ***\nORIGIN_SZYSSZ09   20.9366181  0.0040347  5189.15   &lt;2e-16 ***\nlog(SCHOOL_COUNT)  0.4755516  0.0004701  1011.55   &lt;2e-16 ***\nlog(RETAIL_COUNT)  0.1796905  0.0001856   968.12   &lt;2e-16 ***\nlog(DIST)         -1.6929522  0.0004093 -4136.01   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 189463537  on 14471  degrees of freedom\nResidual deviance:  15526121  on 14189  degrees of freedom\nAIC: 15615824\n\nNumber of Fisher Scoring iterations: 6\n\noptions(max.print = 99999)\n\nWe are interested in the log school count, log retail count and log dist values.\n\nDistance must be negative - inverse (further not attractive)"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#goodness-of-fit",
    "href": "InClassEx/Ex04/inclassex4.html#goodness-of-fit",
    "title": "In Class Ex 4",
    "section": "Goodness of Fit",
    "text": "Goodness of Fit\n\nCalcRSquared &lt;- function(observed,estimated){\n  r &lt;- cor(observed,estimated)\n  R2 &lt;- r^2\n  R2\n}\n\n\nCalcRSquared(orcSIM_Poisson$data$TRIPS, orcSIM_Poisson$fitted.values)\n\n[1] 0.4362208\n\n\n\nperformance_rmse(orcSIM_Poisson,\n                 normalized = FALSE)\n\n[1] 2613.236"
  },
  {
    "objectID": "InClassEx/Ex04/inclassex4.html#doubly-constrained",
    "href": "InClassEx/Ex04/inclassex4.html#doubly-constrained",
    "title": "In Class Ex 4",
    "section": "Doubly Constrained",
    "text": "Doubly Constrained\nnever -1 ; because we dont have to worry about the intercept\n\ndbcSIM_Poisson &lt;- glm(formula = TRIPS ~ \n                ORIGIN_SZ + \n                DESTIN_SZ + \n                log(SCHOOL_COUNT) +\n                 log(RETAIL_COUNT) +\n                log(DIST),\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\nsummary(dbcSIM_Poisson)\n\n\nCall:\nglm(formula = TRIPS ~ ORIGIN_SZ + DESTIN_SZ + log(SCHOOL_COUNT) + \n    log(RETAIL_COUNT) + log(DIST), family = poisson(link = \"log\"), \n    data = inter_zonal_flow, na.action = na.exclude)\n\nDeviance Residuals: \n     Min        1Q    Median        3Q       Max  \n-186.353   -14.006    -5.274     3.448   303.565  \n\nCoefficients: (2 not defined because of singularities)\n                    Estimate Std. Error   z value Pr(&gt;|z|)    \n(Intercept)       21.8312374  0.0059160  3690.190  &lt; 2e-16 ***\nORIGIN_SZAMSZ02    0.5263502  0.0048031   109.585  &lt; 2e-16 ***\nORIGIN_SZAMSZ03    0.3139982  0.0049254    63.751  &lt; 2e-16 ***\nORIGIN_SZAMSZ04   -0.2146257  0.0053639   -40.013  &lt; 2e-16 ***\nORIGIN_SZAMSZ05   -0.1890446  0.0060386   -31.306  &lt; 2e-16 ***\nORIGIN_SZAMSZ06    0.1539201  0.0054401    28.294  &lt; 2e-16 ***\nORIGIN_SZAMSZ07   -0.9826565  0.0098676   -99.584  &lt; 2e-16 ***\nORIGIN_SZAMSZ08   -0.4488417  0.0093070   -48.226  &lt; 2e-16 ***\nORIGIN_SZAMSZ09    0.0713474  0.0057402    12.429  &lt; 2e-16 ***\nORIGIN_SZAMSZ10    0.4313742  0.0050370    85.641  &lt; 2e-16 ***\nORIGIN_SZAMSZ11   -1.4712226  0.0131178  -112.154  &lt; 2e-16 ***\nORIGIN_SZAMSZ12   -1.7250733  0.0111603  -154.573  &lt; 2e-16 ***\nORIGIN_SZBDSZ01    0.8810576  0.0048168   182.914  &lt; 2e-16 ***\nORIGIN_SZBDSZ02    0.1100240  0.0055529    19.814  &lt; 2e-16 ***\nORIGIN_SZBDSZ03    0.3606166  0.0050672    71.167  &lt; 2e-16 ***\nORIGIN_SZBDSZ04    1.4624347  0.0044212   330.781  &lt; 2e-16 ***\nORIGIN_SZBDSZ05    0.6207557  0.0050843   122.092  &lt; 2e-16 ***\nORIGIN_SZBDSZ06    0.6712973  0.0051953   129.214  &lt; 2e-16 ***\nORIGIN_SZBDSZ07   -1.2338669  0.0100775  -122.437  &lt; 2e-16 ***\nORIGIN_SZBDSZ08   -1.0444562  0.0094555  -110.460  &lt; 2e-16 ***\nORIGIN_SZBKSZ01   -0.2838426  0.0071354   -39.780  &lt; 2e-16 ***\nORIGIN_SZBKSZ02    0.5550522  0.0059014    94.054  &lt; 2e-16 ***\nORIGIN_SZBKSZ03    0.7396640  0.0056796   130.231  &lt; 2e-16 ***\nORIGIN_SZBKSZ04   -0.2242451  0.0067482   -33.230  &lt; 2e-16 ***\nORIGIN_SZBKSZ05   -0.2371614  0.0069386   -34.180  &lt; 2e-16 ***\nORIGIN_SZBKSZ06   -0.1413812  0.0065035   -21.739  &lt; 2e-16 ***\nORIGIN_SZBKSZ07    0.7089989  0.0051843   136.758  &lt; 2e-16 ***\nORIGIN_SZBKSZ08   -0.0907065  0.0059157   -15.333  &lt; 2e-16 ***\nORIGIN_SZBKSZ09   -0.1775146  0.0063302   -28.042  &lt; 2e-16 ***\nORIGIN_SZBLSZ01   -2.3684539  0.0154280  -153.516  &lt; 2e-16 ***\nORIGIN_SZBLSZ02   -2.8078475  0.0197839  -141.926  &lt; 2e-16 ***\nORIGIN_SZBLSZ03   -3.3122763  0.0466091   -71.065  &lt; 2e-16 ***\nORIGIN_SZBLSZ04   -2.6770542  0.0241793  -110.717  &lt; 2e-16 ***\nORIGIN_SZBMSZ01    0.0618035  0.0059400    10.405  &lt; 2e-16 ***\nORIGIN_SZBMSZ02   -1.3535767  0.0073741  -183.557  &lt; 2e-16 ***\nORIGIN_SZBMSZ03   -0.7569095  0.0063187  -119.790  &lt; 2e-16 ***\nORIGIN_SZBMSZ04   -0.2949304  0.0059603   -49.483  &lt; 2e-16 ***\nORIGIN_SZBMSZ05   -2.6131992  0.0172376  -151.599  &lt; 2e-16 ***\nORIGIN_SZBMSZ06   -3.0315024  0.0185502  -163.422  &lt; 2e-16 ***\nORIGIN_SZBMSZ07   -0.6962524  0.0064068  -108.674  &lt; 2e-16 ***\nORIGIN_SZBMSZ08   -0.9310730  0.0064541  -144.261  &lt; 2e-16 ***\nORIGIN_SZBMSZ09   -1.2911253  0.0092047  -140.268  &lt; 2e-16 ***\nORIGIN_SZBMSZ10   -1.6687004  0.0095708  -174.353  &lt; 2e-16 ***\nORIGIN_SZBMSZ11   -1.1152794  0.0072027  -154.841  &lt; 2e-16 ***\nORIGIN_SZBMSZ12   -1.5323954  0.0099932  -153.344  &lt; 2e-16 ***\nORIGIN_SZBMSZ13   -0.6267376  0.0065863   -95.158  &lt; 2e-16 ***\nORIGIN_SZBMSZ14   -1.0475467  0.0072472  -144.544  &lt; 2e-16 ***\nORIGIN_SZBMSZ15   -0.5049444  0.0067390   -74.929  &lt; 2e-16 ***\nORIGIN_SZBMSZ16   -1.5282897  0.0099545  -153.527  &lt; 2e-16 ***\nORIGIN_SZBMSZ17   -1.5722349  0.0161533   -97.332  &lt; 2e-16 ***\nORIGIN_SZBPSZ01    0.5814175  0.0062904    92.429  &lt; 2e-16 ***\nORIGIN_SZBPSZ02    0.0875442  0.0072190    12.127  &lt; 2e-16 ***\nORIGIN_SZBPSZ03    0.3358227  0.0070460    47.662  &lt; 2e-16 ***\nORIGIN_SZBPSZ04    0.6507586  0.0057726   112.733  &lt; 2e-16 ***\nORIGIN_SZBPSZ05    0.9502124  0.0052971   179.384  &lt; 2e-16 ***\nORIGIN_SZBPSZ06   -1.0480314  0.0098191  -106.734  &lt; 2e-16 ***\nORIGIN_SZBPSZ07   -0.5467931  0.0091676   -59.644  &lt; 2e-16 ***\nORIGIN_SZBSSZ01    0.2998334  0.0059193    50.654  &lt; 2e-16 ***\nORIGIN_SZBSSZ02    0.2841036  0.0050863    55.856  &lt; 2e-16 ***\nORIGIN_SZBSSZ03   -0.2331505  0.0056565   -41.218  &lt; 2e-16 ***\nORIGIN_SZBTSZ01    0.0987284  0.0063715    15.495  &lt; 2e-16 ***\nORIGIN_SZBTSZ02   -0.6261229  0.0084604   -74.006  &lt; 2e-16 ***\nORIGIN_SZBTSZ03   -0.4326963  0.0073452   -58.909  &lt; 2e-16 ***\nORIGIN_SZBTSZ04   -1.4998668  0.0110013  -136.336  &lt; 2e-16 ***\nORIGIN_SZBTSZ05   -0.9564768  0.0122202   -78.270  &lt; 2e-16 ***\nORIGIN_SZBTSZ06   -1.2853131  0.0099328  -129.401  &lt; 2e-16 ***\nORIGIN_SZBTSZ07   -2.3870991  0.0144589  -165.096  &lt; 2e-16 ***\nORIGIN_SZBTSZ08   -1.3715855  0.0113825  -120.499  &lt; 2e-16 ***\nORIGIN_SZCBSZ01   -3.5940232  0.0548979   -65.467  &lt; 2e-16 ***\nORIGIN_SZCCSZ01   -0.7008220  0.0140373   -49.926  &lt; 2e-16 ***\nORIGIN_SZCHSZ01   -0.9109524  0.0122869   -74.140  &lt; 2e-16 ***\nORIGIN_SZCHSZ02   -0.8566547  0.0088749   -96.526  &lt; 2e-16 ***\nORIGIN_SZCHSZ03    1.1153731  0.0066136   168.650  &lt; 2e-16 ***\nORIGIN_SZCKSZ01    0.3001815  0.0058548    51.271  &lt; 2e-16 ***\nORIGIN_SZCKSZ02    0.7185711  0.0060595   118.585  &lt; 2e-16 ***\nORIGIN_SZCKSZ03    1.1389824  0.0053179   214.178  &lt; 2e-16 ***\nORIGIN_SZCKSZ04    1.6281772  0.0054761   297.324  &lt; 2e-16 ***\nORIGIN_SZCKSZ05    0.8338470  0.0064178   129.927  &lt; 2e-16 ***\nORIGIN_SZCKSZ06    0.6528993  0.0082375    79.259  &lt; 2e-16 ***\nORIGIN_SZCLSZ01   -0.7174758  0.0082123   -87.366  &lt; 2e-16 ***\nORIGIN_SZCLSZ02   -1.7513100  0.0139062  -125.938  &lt; 2e-16 ***\nORIGIN_SZCLSZ03   -1.0362873  0.0085485  -121.224  &lt; 2e-16 ***\nORIGIN_SZCLSZ04    0.6160017  0.0051276   120.136  &lt; 2e-16 ***\nORIGIN_SZCLSZ05   -2.1005122  0.0150228  -139.821  &lt; 2e-16 ***\nORIGIN_SZCLSZ06    0.7252108  0.0049447   146.665  &lt; 2e-16 ***\nORIGIN_SZCLSZ07   -0.5343482  0.0062500   -85.496  &lt; 2e-16 ***\nORIGIN_SZCLSZ08   -0.2153408  0.0067571   -31.869  &lt; 2e-16 ***\nORIGIN_SZCLSZ09   -1.8019961  0.0169078  -106.578  &lt; 2e-16 ***\nORIGIN_SZDTSZ02   -3.9057711  0.0834668   -46.794  &lt; 2e-16 ***\nORIGIN_SZDTSZ03   -3.4152419  0.0738650   -46.236  &lt; 2e-16 ***\nORIGIN_SZDTSZ13   -3.0183438  0.0315257   -95.742  &lt; 2e-16 ***\nORIGIN_SZGLSZ01   -1.7812384  0.0099367  -179.258  &lt; 2e-16 ***\nORIGIN_SZGLSZ02   -0.1074991  0.0054325   -19.788  &lt; 2e-16 ***\nORIGIN_SZGLSZ03   -0.2461106  0.0057176   -43.045  &lt; 2e-16 ***\nORIGIN_SZGLSZ04    0.8657186  0.0046413   186.524  &lt; 2e-16 ***\nORIGIN_SZGLSZ05    0.5871393  0.0047939   122.477  &lt; 2e-16 ***\nORIGIN_SZHGSZ01    0.3543819  0.0050461    70.229  &lt; 2e-16 ***\nORIGIN_SZHGSZ02    0.4218178  0.0050820    83.003  &lt; 2e-16 ***\nORIGIN_SZHGSZ03    0.2411309  0.0054241    44.456  &lt; 2e-16 ***\nORIGIN_SZHGSZ04    0.8180622  0.0046153   177.252  &lt; 2e-16 ***\nORIGIN_SZHGSZ05    1.2173687  0.0045655   266.647  &lt; 2e-16 ***\nORIGIN_SZHGSZ06   -0.1826300  0.0058214   -31.372  &lt; 2e-16 ***\nORIGIN_SZHGSZ07    0.3172839  0.0050733    62.540  &lt; 2e-16 ***\nORIGIN_SZHGSZ08   -0.1151369  0.0057067   -20.176  &lt; 2e-16 ***\nORIGIN_SZHGSZ09   -1.2873441  0.0091690  -140.401  &lt; 2e-16 ***\nORIGIN_SZHGSZ10   -3.3783178  0.0424682   -79.549  &lt; 2e-16 ***\nORIGIN_SZJESZ01    0.4859234  0.0055927    86.885  &lt; 2e-16 ***\nORIGIN_SZJESZ02    0.1766088  0.0055800    31.650  &lt; 2e-16 ***\nORIGIN_SZJESZ03   -0.2177441  0.0059535   -36.574  &lt; 2e-16 ***\nORIGIN_SZJESZ04   -1.5532182  0.0104526  -148.597  &lt; 2e-16 ***\nORIGIN_SZJESZ05   -2.3332926  0.0142701  -163.509  &lt; 2e-16 ***\nORIGIN_SZJESZ06    0.3007382  0.0055019    54.661  &lt; 2e-16 ***\nORIGIN_SZJESZ07   -1.9687994  0.0121092  -162.587  &lt; 2e-16 ***\nORIGIN_SZJESZ08   -1.3032070  0.0122024  -106.800  &lt; 2e-16 ***\nORIGIN_SZJESZ09    0.5762635  0.0058766    98.061  &lt; 2e-16 ***\nORIGIN_SZJESZ10   -1.4423113  0.0194773   -74.051  &lt; 2e-16 ***\nORIGIN_SZJESZ11   -1.9720897  0.0200811   -98.206  &lt; 2e-16 ***\nORIGIN_SZJWSZ01    0.3808627  0.0071357    53.374  &lt; 2e-16 ***\nORIGIN_SZJWSZ02    0.7963999  0.0053150   149.840  &lt; 2e-16 ***\nORIGIN_SZJWSZ03    1.5429636  0.0049961   308.834  &lt; 2e-16 ***\nORIGIN_SZJWSZ04    0.6410760  0.0056711   113.042  &lt; 2e-16 ***\nORIGIN_SZJWSZ05   -2.1571049  0.0133584  -161.479  &lt; 2e-16 ***\nORIGIN_SZJWSZ06   -1.5174532  0.0113384  -133.833  &lt; 2e-16 ***\nORIGIN_SZJWSZ07   -2.7089963  0.0280439   -96.598  &lt; 2e-16 ***\nORIGIN_SZJWSZ08    1.5343415  0.0051711   296.713  &lt; 2e-16 ***\nORIGIN_SZJWSZ09    1.8837410  0.0048845   385.656  &lt; 2e-16 ***\nORIGIN_SZKLSZ01    0.1081286  0.0053307    20.284  &lt; 2e-16 ***\nORIGIN_SZKLSZ02   -0.8844695  0.0067728  -130.591  &lt; 2e-16 ***\nORIGIN_SZKLSZ03   -0.6872640  0.0062857  -109.337  &lt; 2e-16 ***\nORIGIN_SZKLSZ04   -2.2090319  0.0122440  -180.418  &lt; 2e-16 ***\nORIGIN_SZKLSZ05   -1.1728726  0.0110765  -105.888  &lt; 2e-16 ***\nORIGIN_SZKLSZ06   -6.1162315  0.1857789   -32.922  &lt; 2e-16 ***\nORIGIN_SZKLSZ07   -1.4082749  0.0092299  -152.578  &lt; 2e-16 ***\nORIGIN_SZKLSZ08   -1.7781551  0.0104682  -169.862  &lt; 2e-16 ***\nORIGIN_SZLKSZ01   -2.0531568  0.0398803   -51.483  &lt; 2e-16 ***\nORIGIN_SZMDSZ01   -0.8825639  0.0287621   -30.685  &lt; 2e-16 ***\nORIGIN_SZMDSZ02   -0.6219993  0.0107388   -57.921  &lt; 2e-16 ***\nORIGIN_SZMDSZ03   -2.0840156  0.0173117  -120.382  &lt; 2e-16 ***\nORIGIN_SZMPSZ01   -0.9659093  0.0086972  -111.060  &lt; 2e-16 ***\nORIGIN_SZMPSZ02   -1.0411153  0.0073403  -141.836  &lt; 2e-16 ***\nORIGIN_SZMPSZ03    0.0001659  0.0059401     0.028 0.977719    \nORIGIN_SZMUSZ02   -3.7599031  0.1037937   -36.225  &lt; 2e-16 ***\nORIGIN_SZNTSZ01   -3.0388366  0.0355325   -85.523  &lt; 2e-16 ***\nORIGIN_SZNTSZ02   -3.4230640  0.0235902  -145.106  &lt; 2e-16 ***\nORIGIN_SZNTSZ03   -0.9094796  0.0082551  -110.172  &lt; 2e-16 ***\nORIGIN_SZNTSZ05   -4.0861681  0.0499630   -81.784  &lt; 2e-16 ***\nORIGIN_SZNTSZ06   -3.9497128  0.0565388   -69.858  &lt; 2e-16 ***\nORIGIN_SZNVSZ01    0.3235636  0.0049439    65.447  &lt; 2e-16 ***\nORIGIN_SZNVSZ02   -0.6946748  0.0070536   -98.485  &lt; 2e-16 ***\nORIGIN_SZNVSZ03   -1.0540196  0.0083781  -125.806  &lt; 2e-16 ***\nORIGIN_SZNVSZ04   -0.9897977  0.0093463  -105.903  &lt; 2e-16 ***\nORIGIN_SZNVSZ05   -2.2578432  0.0169180  -133.458  &lt; 2e-16 ***\nORIGIN_SZPGSZ01    0.2399827  0.0130436    18.398  &lt; 2e-16 ***\nORIGIN_SZPGSZ02   -0.3352342  0.0078451   -42.732  &lt; 2e-16 ***\nORIGIN_SZPGSZ03    0.9515148  0.0051376   185.207  &lt; 2e-16 ***\nORIGIN_SZPGSZ04    1.3998952  0.0047991   291.697  &lt; 2e-16 ***\nORIGIN_SZPGSZ05    0.4451629  0.0063423    70.189  &lt; 2e-16 ***\nORIGIN_SZPLSZ01   -0.9705918  0.0122781   -79.050  &lt; 2e-16 ***\nORIGIN_SZPLSZ02   -1.0670151  0.0153358   -69.577  &lt; 2e-16 ***\nORIGIN_SZPLSZ03   -2.1229124  0.0373527   -56.834  &lt; 2e-16 ***\nORIGIN_SZPLSZ04   -3.0911932  0.0371296   -83.254  &lt; 2e-16 ***\nORIGIN_SZPLSZ05   -2.1705708  0.0226085   -96.007  &lt; 2e-16 ***\nORIGIN_SZPNSZ01    0.9052637  0.0065952   137.262  &lt; 2e-16 ***\nORIGIN_SZPNSZ02   -0.1720425  0.0125658   -13.691  &lt; 2e-16 ***\nORIGIN_SZPNSZ03   -2.3973459  0.0201408  -119.029  &lt; 2e-16 ***\nORIGIN_SZPNSZ04   -3.4483689  0.0343741  -100.319  &lt; 2e-16 ***\nORIGIN_SZPNSZ05   -2.0588530  0.0282328   -72.924  &lt; 2e-16 ***\nORIGIN_SZPRSZ01   -0.6399015  0.0120470   -53.117  &lt; 2e-16 ***\nORIGIN_SZPRSZ02    0.8122270  0.0050886   159.617  &lt; 2e-16 ***\nORIGIN_SZPRSZ03    0.3990960  0.0051810    77.031  &lt; 2e-16 ***\nORIGIN_SZPRSZ04   -0.8485348  0.0079236  -107.089  &lt; 2e-16 ***\nORIGIN_SZPRSZ05    0.8008791  0.0048532   165.021  &lt; 2e-16 ***\nORIGIN_SZPRSZ06   -1.4498806  0.0121422  -119.408  &lt; 2e-16 ***\nORIGIN_SZPRSZ07   -3.2025045  0.0167118  -191.631  &lt; 2e-16 ***\nORIGIN_SZPRSZ08   -0.5862269  0.0067255   -87.165  &lt; 2e-16 ***\nORIGIN_SZQTSZ01   -0.1859270  0.0075531   -24.616  &lt; 2e-16 ***\nORIGIN_SZQTSZ02   -0.8715122  0.0068124  -127.929  &lt; 2e-16 ***\nORIGIN_SZQTSZ03   -0.1259816  0.0064796   -19.443  &lt; 2e-16 ***\nORIGIN_SZQTSZ04   -1.4620032  0.0079848  -183.098  &lt; 2e-16 ***\nORIGIN_SZQTSZ05   -0.6675643  0.0069616   -95.892  &lt; 2e-16 ***\nORIGIN_SZQTSZ06   -0.8190026  0.0072713  -112.634  &lt; 2e-16 ***\nORIGIN_SZQTSZ07   -1.5189403  0.0099864  -152.101  &lt; 2e-16 ***\nORIGIN_SZQTSZ08   -0.4976238  0.0067874   -73.316  &lt; 2e-16 ***\nORIGIN_SZQTSZ09   -0.9006162  0.0075978  -118.536  &lt; 2e-16 ***\nORIGIN_SZQTSZ10   -0.6690184  0.0071574   -93.473  &lt; 2e-16 ***\nORIGIN_SZQTSZ11   -2.5203437  0.0147000  -171.452  &lt; 2e-16 ***\nORIGIN_SZQTSZ12   -3.0461675  0.0190193  -160.162  &lt; 2e-16 ***\nORIGIN_SZQTSZ13   -0.7501068  0.0084481   -88.791  &lt; 2e-16 ***\nORIGIN_SZQTSZ14   -1.9321849  0.0126114  -153.209  &lt; 2e-16 ***\nORIGIN_SZQTSZ15   -0.9576828  0.0127157   -75.315  &lt; 2e-16 ***\nORIGIN_SZRCSZ01   -1.8167951  0.0129234  -140.582  &lt; 2e-16 ***\nORIGIN_SZRCSZ06   -0.5560563  0.0090507   -61.438  &lt; 2e-16 ***\nORIGIN_SZRVSZ01   -2.8862570  0.0325532   -88.663  &lt; 2e-16 ***\nORIGIN_SZRVSZ02   -3.1555662  0.0281279  -112.186  &lt; 2e-16 ***\nORIGIN_SZRVSZ03   -2.9836089  0.0248449  -120.089  &lt; 2e-16 ***\nORIGIN_SZRVSZ04   -3.5520422  0.0561371   -63.274  &lt; 2e-16 ***\nORIGIN_SZRVSZ05   -2.5866584  0.0180382  -143.399  &lt; 2e-16 ***\nORIGIN_SZSBSZ01    0.2867444  0.0071098    40.331  &lt; 2e-16 ***\nORIGIN_SZSBSZ02   -0.9012334  0.0087262  -103.278  &lt; 2e-16 ***\nORIGIN_SZSBSZ03    0.8311038  0.0055422   149.958  &lt; 2e-16 ***\nORIGIN_SZSBSZ04    0.4044170  0.0062047    65.179  &lt; 2e-16 ***\nORIGIN_SZSBSZ05   -0.2661845  0.0074162   -35.892  &lt; 2e-16 ***\nORIGIN_SZSBSZ06   -0.9023075  0.0175046   -51.547  &lt; 2e-16 ***\nORIGIN_SZSBSZ07    0.0505870  0.0131317     3.852 0.000117 ***\nORIGIN_SZSBSZ08   -1.1158011  0.0145416   -76.732  &lt; 2e-16 ***\nORIGIN_SZSBSZ09   -0.9682835  0.0095396  -101.501  &lt; 2e-16 ***\nORIGIN_SZSESZ02    1.1452735  0.0047810   239.548  &lt; 2e-16 ***\nORIGIN_SZSESZ03    1.2815277  0.0045677   280.564  &lt; 2e-16 ***\nORIGIN_SZSESZ04    0.8085857  0.0052756   153.269  &lt; 2e-16 ***\nORIGIN_SZSESZ05   -0.2329413  0.0063113   -36.909  &lt; 2e-16 ***\nORIGIN_SZSESZ06    1.0576879  0.0049909   211.925  &lt; 2e-16 ***\nORIGIN_SZSESZ07   -2.3165908  0.0196831  -117.695  &lt; 2e-16 ***\nORIGIN_SZSGSZ01   -0.6606350  0.0088079   -75.005  &lt; 2e-16 ***\nORIGIN_SZSGSZ02   -1.3638984  0.0104040  -131.094  &lt; 2e-16 ***\nORIGIN_SZSGSZ03    0.1152591  0.0054649    21.091  &lt; 2e-16 ***\nORIGIN_SZSGSZ04    0.2954067  0.0050865    58.077  &lt; 2e-16 ***\nORIGIN_SZSGSZ05   -2.0792678  0.0109882  -189.227  &lt; 2e-16 ***\nORIGIN_SZSGSZ06    0.4563227  0.0048880    93.356  &lt; 2e-16 ***\nORIGIN_SZSGSZ07   -0.8955254  0.0067100  -133.461  &lt; 2e-16 ***\nORIGIN_SZSKSZ01   -0.3184402  0.0093032   -34.229  &lt; 2e-16 ***\nORIGIN_SZSKSZ02    1.1160484  0.0063851   174.790  &lt; 2e-16 ***\nORIGIN_SZSKSZ03   -0.2566692  0.0086021   -29.838  &lt; 2e-16 ***\nORIGIN_SZSKSZ04   -1.5781827  0.0279394   -56.486  &lt; 2e-16 ***\nORIGIN_SZSKSZ05   -0.2724361  0.0163597   -16.653  &lt; 2e-16 ***\nORIGIN_SZSLSZ01   -2.4458625  0.0330301   -74.050  &lt; 2e-16 ***\nORIGIN_SZSLSZ04   -0.0987076  0.0079626   -12.396  &lt; 2e-16 ***\nORIGIN_SZSRSZ01   -2.2584977  0.0176647  -127.854  &lt; 2e-16 ***\nORIGIN_SZTHSZ01   -2.5878524  0.0489998   -52.814  &lt; 2e-16 ***\nORIGIN_SZTHSZ03   -0.8101746  0.0226814   -35.720  &lt; 2e-16 ***\nORIGIN_SZTHSZ04   -2.4186655  0.0288663   -83.789  &lt; 2e-16 ***\nORIGIN_SZTHSZ06   -1.7080541  0.0186353   -91.657  &lt; 2e-16 ***\nORIGIN_SZTMSZ01   -0.2193476  0.0061823   -35.480  &lt; 2e-16 ***\nORIGIN_SZTMSZ02    1.7772464  0.0043394   409.558  &lt; 2e-16 ***\nORIGIN_SZTMSZ03    1.0051343  0.0046055   218.249  &lt; 2e-16 ***\nORIGIN_SZTMSZ04    0.1642370  0.0055078    29.819  &lt; 2e-16 ***\nORIGIN_SZTMSZ05   -1.2878706  0.0114828  -112.157  &lt; 2e-16 ***\nORIGIN_SZTNSZ01   -1.7163504  0.0131268  -130.751  &lt; 2e-16 ***\nORIGIN_SZTNSZ02   -1.6508988  0.0103851  -158.968  &lt; 2e-16 ***\nORIGIN_SZTNSZ03   -2.1545577  0.0137947  -156.187  &lt; 2e-16 ***\nORIGIN_SZTNSZ04   -0.3949120  0.0078496   -50.310  &lt; 2e-16 ***\nORIGIN_SZTPSZ01   -0.8058100  0.0069916  -115.253  &lt; 2e-16 ***\nORIGIN_SZTPSZ02    0.5369060  0.0047272   113.577  &lt; 2e-16 ***\nORIGIN_SZTPSZ03   -0.7779333  0.0064278  -121.027  &lt; 2e-16 ***\nORIGIN_SZTPSZ04   -0.8153581  0.0061387  -132.823  &lt; 2e-16 ***\nORIGIN_SZTPSZ05   -0.5073676  0.0067771   -74.865  &lt; 2e-16 ***\nORIGIN_SZTPSZ06    0.0847301  0.0065717    12.893  &lt; 2e-16 ***\nORIGIN_SZTPSZ07   -0.5839519  0.0066148   -88.280  &lt; 2e-16 ***\nORIGIN_SZTPSZ08   -1.0577941  0.0098480  -107.412  &lt; 2e-16 ***\nORIGIN_SZTPSZ09   -0.9067707  0.0071367  -127.057  &lt; 2e-16 ***\nORIGIN_SZTPSZ10   -1.1362091  0.0080905  -140.438  &lt; 2e-16 ***\nORIGIN_SZTPSZ11   -0.2374621  0.0059472   -39.928  &lt; 2e-16 ***\nORIGIN_SZTPSZ12   -0.8028874  0.0069663  -115.253  &lt; 2e-16 ***\nORIGIN_SZTSSZ01   -2.7809271  0.0482843   -57.595  &lt; 2e-16 ***\nORIGIN_SZTSSZ02    0.0425804  0.0105088     4.052 5.08e-05 ***\nORIGIN_SZTSSZ03    0.1142369  0.0109412    10.441  &lt; 2e-16 ***\nORIGIN_SZTSSZ04   -0.6186261  0.0116324   -53.181  &lt; 2e-16 ***\nORIGIN_SZTSSZ05   -1.0846732  0.0173555   -62.497  &lt; 2e-16 ***\nORIGIN_SZTSSZ06    0.3980173  0.0198100    20.092  &lt; 2e-16 ***\nORIGIN_SZWCSZ01    1.3545143  0.0092002   147.227  &lt; 2e-16 ***\nORIGIN_SZWCSZ02   -2.9863278  0.0330906   -90.247  &lt; 2e-16 ***\nORIGIN_SZWCSZ03   -5.0504916  0.1241385   -40.684  &lt; 2e-16 ***\nORIGIN_SZWDSZ01    1.5238429  0.0049404   308.448  &lt; 2e-16 ***\nORIGIN_SZWDSZ02    0.2832576  0.0056218    50.386  &lt; 2e-16 ***\nORIGIN_SZWDSZ03    1.3702524  0.0053266   257.245  &lt; 2e-16 ***\nORIGIN_SZWDSZ04    1.0248225  0.0059272   172.903  &lt; 2e-16 ***\nORIGIN_SZWDSZ05    0.2356778  0.0060587    38.899  &lt; 2e-16 ***\nORIGIN_SZWDSZ06    0.3146925  0.0059919    52.520  &lt; 2e-16 ***\nORIGIN_SZWDSZ07   -1.4971897  0.0091243  -164.088  &lt; 2e-16 ***\nORIGIN_SZWDSZ08   -0.8894079  0.0087414  -101.747  &lt; 2e-16 ***\nORIGIN_SZWDSZ09    1.4437633  0.0053160   271.590  &lt; 2e-16 ***\nORIGIN_SZYSSZ01   -0.2519398  0.0064443   -39.095  &lt; 2e-16 ***\nORIGIN_SZYSSZ02    0.8726785  0.0057658   151.354  &lt; 2e-16 ***\nORIGIN_SZYSSZ03    1.7868139  0.0050674   352.611  &lt; 2e-16 ***\nORIGIN_SZYSSZ04    0.8418040  0.0051738   162.704  &lt; 2e-16 ***\nORIGIN_SZYSSZ05    0.4292096  0.0062520    68.652  &lt; 2e-16 ***\nORIGIN_SZYSSZ06   -0.7459961  0.0119123   -62.624  &lt; 2e-16 ***\nORIGIN_SZYSSZ07   -0.8422281  0.0144559   -58.262  &lt; 2e-16 ***\nORIGIN_SZYSSZ08    0.1829428  0.0067885    26.949  &lt; 2e-16 ***\nORIGIN_SZYSSZ09    1.1159712  0.0050760   219.853  &lt; 2e-16 ***\nDESTIN_SZAMSZ02    0.0694567  0.0045966    15.111  &lt; 2e-16 ***\nDESTIN_SZAMSZ03    0.0760100  0.0044639    17.028  &lt; 2e-16 ***\nDESTIN_SZAMSZ04   -1.1306391  0.0064373  -175.639  &lt; 2e-16 ***\nDESTIN_SZAMSZ05   -1.0751133  0.0065164  -164.985  &lt; 2e-16 ***\nDESTIN_SZAMSZ06   -0.9624298  0.0065937  -145.962  &lt; 2e-16 ***\nDESTIN_SZAMSZ07   -1.5060319  0.0097616  -154.281  &lt; 2e-16 ***\nDESTIN_SZAMSZ08   -0.4813202  0.0069794   -68.963  &lt; 2e-16 ***\nDESTIN_SZAMSZ09   -1.0220675  0.0066313  -154.129  &lt; 2e-16 ***\nDESTIN_SZAMSZ10    0.1235142  0.0047044    26.255  &lt; 2e-16 ***\nDESTIN_SZAMSZ11   -0.8917993  0.0088519  -100.746  &lt; 2e-16 ***\nDESTIN_SZAMSZ12    0.0195208  0.0051704     3.775 0.000160 ***\nDESTIN_SZBDSZ01    0.9736349  0.0042757   227.713  &lt; 2e-16 ***\nDESTIN_SZBDSZ02   -0.1969470  0.0055284   -35.625  &lt; 2e-16 ***\nDESTIN_SZBDSZ03    0.1266471  0.0050786    24.938  &lt; 2e-16 ***\nDESTIN_SZBDSZ04    1.1608485  0.0041956   276.684  &lt; 2e-16 ***\nDESTIN_SZBDSZ05    0.9293840  0.0044412   209.265  &lt; 2e-16 ***\nDESTIN_SZBDSZ06    0.4090567  0.0050300    81.323  &lt; 2e-16 ***\nDESTIN_SZBDSZ07   -0.8171478  0.0098945   -82.586  &lt; 2e-16 ***\nDESTIN_SZBDSZ08   -1.5895287  0.0111632  -142.391  &lt; 2e-16 ***\nDESTIN_SZBKSZ01   -1.3793311  0.0072145  -191.189  &lt; 2e-16 ***\nDESTIN_SZBKSZ02   -0.5253670  0.0061879   -84.903  &lt; 2e-16 ***\nDESTIN_SZBKSZ03   -1.0095362  0.0065426  -154.301  &lt; 2e-16 ***\nDESTIN_SZBKSZ04   -0.5662858  0.0056453  -100.311  &lt; 2e-16 ***\nDESTIN_SZBKSZ05   -0.9406607  0.0070597  -133.244  &lt; 2e-16 ***\nDESTIN_SZBKSZ06   -1.3129276  0.0067414  -194.755  &lt; 2e-16 ***\nDESTIN_SZBKSZ07    0.0120605  0.0049284     2.447 0.014400 *  \nDESTIN_SZBKSZ08   -1.3658471  0.0075109  -181.849  &lt; 2e-16 ***\nDESTIN_SZBKSZ09   -0.1771310  0.0055645   -31.832  &lt; 2e-16 ***\nDESTIN_SZBLSZ01   -0.8175223  0.0075645  -108.074  &lt; 2e-16 ***\nDESTIN_SZBLSZ02    0.1631280  0.0071753    22.735  &lt; 2e-16 ***\nDESTIN_SZBLSZ03    1.2598494  0.0081706   154.194  &lt; 2e-16 ***\nDESTIN_SZBLSZ04   -0.5642975  0.0137827   -40.943  &lt; 2e-16 ***\nDESTIN_SZBMSZ01    0.6921844  0.0054211   127.684  &lt; 2e-16 ***\nDESTIN_SZBMSZ02   -0.1209392  0.0055362   -21.845  &lt; 2e-16 ***\nDESTIN_SZBMSZ03   -0.2373881  0.0062427   -38.027  &lt; 2e-16 ***\nDESTIN_SZBMSZ04   -0.0407117  0.0058001    -7.019 2.23e-12 ***\nDESTIN_SZBMSZ05   -0.2363309  0.0075967   -31.110  &lt; 2e-16 ***\nDESTIN_SZBMSZ06   -1.1930710  0.0134761   -88.532  &lt; 2e-16 ***\nDESTIN_SZBMSZ07    0.4625103  0.0051864    89.178  &lt; 2e-16 ***\nDESTIN_SZBMSZ08   -0.8604731  0.0069899  -123.102  &lt; 2e-16 ***\nDESTIN_SZBMSZ09   -2.1290239  0.0154841  -137.498  &lt; 2e-16 ***\nDESTIN_SZBMSZ10   -1.4617153  0.0094014  -155.478  &lt; 2e-16 ***\nDESTIN_SZBMSZ11   -1.3234050  0.0085506  -154.773  &lt; 2e-16 ***\nDESTIN_SZBMSZ12   -0.8399230  0.0085361   -98.397  &lt; 2e-16 ***\nDESTIN_SZBMSZ13    0.1366529  0.0059697    22.891  &lt; 2e-16 ***\nDESTIN_SZBMSZ14   -1.0491968  0.0083021  -126.378  &lt; 2e-16 ***\nDESTIN_SZBMSZ15   -0.6726684  0.0076276   -88.189  &lt; 2e-16 ***\nDESTIN_SZBMSZ16   -1.4011734  0.0116569  -120.201  &lt; 2e-16 ***\nDESTIN_SZBMSZ17   -1.5682752  0.0167333   -93.722  &lt; 2e-16 ***\nDESTIN_SZBPSZ01   -1.1120017  0.0063197  -175.959  &lt; 2e-16 ***\nDESTIN_SZBPSZ02   -2.0833466  0.0091139  -228.590  &lt; 2e-16 ***\nDESTIN_SZBPSZ03   -1.6937265  0.0087437  -193.709  &lt; 2e-16 ***\nDESTIN_SZBPSZ04   -0.7964999  0.0066129  -120.447  &lt; 2e-16 ***\nDESTIN_SZBPSZ05    0.2109118  0.0048815    43.206  &lt; 2e-16 ***\nDESTIN_SZBPSZ06   -1.1808365  0.0083657  -141.152  &lt; 2e-16 ***\nDESTIN_SZBPSZ07   -0.2077428  0.0084543   -24.572  &lt; 2e-16 ***\nDESTIN_SZBSSZ01    0.3164175  0.0050682    62.431  &lt; 2e-16 ***\nDESTIN_SZBSSZ02   -0.4852688  0.0057001   -85.134  &lt; 2e-16 ***\nDESTIN_SZBSSZ03    0.4130432  0.0043061    95.921  &lt; 2e-16 ***\nDESTIN_SZBTSZ01    0.6215095  0.0048914   127.061  &lt; 2e-16 ***\nDESTIN_SZBTSZ02   -0.0145076  0.0071799    -2.021 0.043324 *  \nDESTIN_SZBTSZ03    0.4919981  0.0058498    84.105  &lt; 2e-16 ***\nDESTIN_SZBTSZ04   -0.6957555  0.0114078   -60.989  &lt; 2e-16 ***\nDESTIN_SZBTSZ05    0.3329814  0.0073568    45.262  &lt; 2e-16 ***\nDESTIN_SZBTSZ06   -0.1333295  0.0073965   -18.026  &lt; 2e-16 ***\nDESTIN_SZBTSZ07   -1.4449581  0.0113186  -127.663  &lt; 2e-16 ***\nDESTIN_SZBTSZ08   -0.7079056  0.0103797   -68.201  &lt; 2e-16 ***\nDESTIN_SZCBSZ01   -5.7344725  0.3162767   -18.131  &lt; 2e-16 ***\nDESTIN_SZCCSZ01   -0.0009541  0.0083381    -0.114 0.908900    \nDESTIN_SZCHSZ01   -0.2083016  0.0099054   -21.029  &lt; 2e-16 ***\nDESTIN_SZCHSZ02    0.5369606  0.0057531    93.334  &lt; 2e-16 ***\nDESTIN_SZCHSZ03    2.5530638  0.0043945   580.971  &lt; 2e-16 ***\nDESTIN_SZCKSZ01   -0.5725975  0.0056507  -101.333  &lt; 2e-16 ***\nDESTIN_SZCKSZ02   -1.1181852  0.0063287  -176.685  &lt; 2e-16 ***\nDESTIN_SZCKSZ03    0.1156680  0.0049440    23.396  &lt; 2e-16 ***\nDESTIN_SZCKSZ04   -0.8647725  0.0071003  -121.794  &lt; 2e-16 ***\nDESTIN_SZCKSZ05   -1.1641791  0.0076248  -152.684  &lt; 2e-16 ***\nDESTIN_SZCKSZ06   -0.4397612  0.0073040   -60.208  &lt; 2e-16 ***\nDESTIN_SZCLSZ01    0.1930552  0.0053752    35.916  &lt; 2e-16 ***\nDESTIN_SZCLSZ02   -2.0436501  0.0136039  -150.225  &lt; 2e-16 ***\nDESTIN_SZCLSZ03   -0.9338571  0.0082908  -112.638  &lt; 2e-16 ***\nDESTIN_SZCLSZ04    0.0532041  0.0053276     9.987  &lt; 2e-16 ***\nDESTIN_SZCLSZ05   -1.0782781  0.0088184  -122.276  &lt; 2e-16 ***\nDESTIN_SZCLSZ06    0.4068171  0.0049068    82.910  &lt; 2e-16 ***\nDESTIN_SZCLSZ07   -0.3579507  0.0060289   -59.373  &lt; 2e-16 ***\nDESTIN_SZCLSZ08   -0.2487993  0.0066588   -37.364  &lt; 2e-16 ***\nDESTIN_SZCLSZ09    0.1611080  0.0071178    22.635  &lt; 2e-16 ***\nDESTIN_SZDTSZ02   -1.7308348  0.0349466   -49.528  &lt; 2e-16 ***\nDESTIN_SZDTSZ03   -0.5994253  0.0146230   -40.992  &lt; 2e-16 ***\nDESTIN_SZDTSZ13   -1.3685031  0.0162803   -84.059  &lt; 2e-16 ***\nDESTIN_SZGLSZ01   -0.0910001  0.0055275   -16.463  &lt; 2e-16 ***\nDESTIN_SZGLSZ02   -0.0692224  0.0052840   -13.100  &lt; 2e-16 ***\nDESTIN_SZGLSZ03    0.6493421  0.0043446   149.459  &lt; 2e-16 ***\nDESTIN_SZGLSZ04    0.9327947  0.0043674   213.583  &lt; 2e-16 ***\nDESTIN_SZGLSZ05    0.8161728  0.0043625   187.087  &lt; 2e-16 ***\nDESTIN_SZHGSZ01    0.0658625  0.0042516    15.491  &lt; 2e-16 ***\nDESTIN_SZHGSZ02   -0.8134329  0.0056721  -143.409  &lt; 2e-16 ***\nDESTIN_SZHGSZ03   -1.3546132  0.0066257  -204.448  &lt; 2e-16 ***\nDESTIN_SZHGSZ04   -0.4500588  0.0048448   -92.895  &lt; 2e-16 ***\nDESTIN_SZHGSZ05   -0.5026431  0.0050996   -98.566  &lt; 2e-16 ***\nDESTIN_SZHGSZ06   -0.8673686  0.0059530  -145.704  &lt; 2e-16 ***\nDESTIN_SZHGSZ07    0.0560490  0.0047702    11.750  &lt; 2e-16 ***\nDESTIN_SZHGSZ08   -0.0443189  0.0052599    -8.426  &lt; 2e-16 ***\nDESTIN_SZHGSZ09   -0.0126355  0.0054966    -2.299 0.021518 *  \nDESTIN_SZHGSZ10   -3.5821793  0.0263281  -136.059  &lt; 2e-16 ***\nDESTIN_SZJESZ01   -0.3704281  0.0056684   -65.350  &lt; 2e-16 ***\nDESTIN_SZJESZ02   -0.7369159  0.0058686  -125.570  &lt; 2e-16 ***\nDESTIN_SZJESZ03   -0.8985484  0.0063627  -141.222  &lt; 2e-16 ***\nDESTIN_SZJESZ04   -1.0511995  0.0073996  -142.061  &lt; 2e-16 ***\nDESTIN_SZJESZ05   -1.5324974  0.0102612  -149.349  &lt; 2e-16 ***\nDESTIN_SZJESZ06    0.3105267  0.0048241    64.370  &lt; 2e-16 ***\nDESTIN_SZJESZ07   -1.3234483  0.0085497  -154.795  &lt; 2e-16 ***\nDESTIN_SZJESZ08   -0.6559742  0.0083174   -78.867  &lt; 2e-16 ***\nDESTIN_SZJESZ09    0.2663752  0.0063370    42.035  &lt; 2e-16 ***\nDESTIN_SZJESZ10    0.8529026  0.0076067   112.126  &lt; 2e-16 ***\nDESTIN_SZJESZ11    0.5559641  0.0074629    74.497  &lt; 2e-16 ***\nDESTIN_SZJWSZ01   -0.9790971  0.0071830  -136.308  &lt; 2e-16 ***\nDESTIN_SZJWSZ02   -0.8746590  0.0060179  -145.342  &lt; 2e-16 ***\nDESTIN_SZJWSZ03    0.5689062  0.0049105   115.855  &lt; 2e-16 ***\nDESTIN_SZJWSZ04    0.4520963  0.0050302    89.876  &lt; 2e-16 ***\nDESTIN_SZJWSZ05   -1.0249671  0.0067371  -152.137  &lt; 2e-16 ***\nDESTIN_SZJWSZ06   -0.7451483  0.0062189  -119.819  &lt; 2e-16 ***\nDESTIN_SZJWSZ07   -2.8453099  0.0287335   -99.024  &lt; 2e-16 ***\nDESTIN_SZJWSZ08   -0.3372309  0.0058003   -58.141  &lt; 2e-16 ***\nDESTIN_SZJWSZ09    1.0505330  0.0045908   228.832  &lt; 2e-16 ***\nDESTIN_SZKLSZ01   -0.2334836  0.0057970   -40.277  &lt; 2e-16 ***\nDESTIN_SZKLSZ02   -0.5416148  0.0061432   -88.164  &lt; 2e-16 ***\nDESTIN_SZKLSZ03   -0.8026495  0.0068745  -116.757  &lt; 2e-16 ***\nDESTIN_SZKLSZ04   -1.2918594  0.0090197  -143.227  &lt; 2e-16 ***\nDESTIN_SZKLSZ05   -0.4069101  0.0087812   -46.339  &lt; 2e-16 ***\nDESTIN_SZKLSZ06   -2.5333101  0.0363215   -69.747  &lt; 2e-16 ***\nDESTIN_SZKLSZ07   -0.6623343  0.0070761   -93.601  &lt; 2e-16 ***\nDESTIN_SZKLSZ08   -0.1408205  0.0054965   -25.620  &lt; 2e-16 ***\nDESTIN_SZLKSZ01   -1.2639235  0.0208254   -60.691  &lt; 2e-16 ***\nDESTIN_SZMDSZ01   -1.5655800  0.0202787   -77.203  &lt; 2e-16 ***\nDESTIN_SZMDSZ02   -0.9767682  0.0114687   -85.168  &lt; 2e-16 ***\nDESTIN_SZMDSZ03   -3.3328109  0.0254294  -131.061  &lt; 2e-16 ***\nDESTIN_SZMPSZ01   -0.4552859  0.0080666   -56.441  &lt; 2e-16 ***\nDESTIN_SZMPSZ02   -0.5386560  0.0064620   -83.358  &lt; 2e-16 ***\nDESTIN_SZMPSZ03    0.4952000  0.0052295    94.694  &lt; 2e-16 ***\nDESTIN_SZMUSZ02   -1.4434175  0.0202509   -71.277  &lt; 2e-16 ***\nDESTIN_SZNTSZ01   -2.9194067  0.0449654   -64.926  &lt; 2e-16 ***\nDESTIN_SZNTSZ02   -1.3780179  0.0112867  -122.092  &lt; 2e-16 ***\nDESTIN_SZNTSZ03   -0.5044699  0.0080449   -62.707  &lt; 2e-16 ***\nDESTIN_SZNTSZ05   -2.0017134  0.0258750   -77.361  &lt; 2e-16 ***\nDESTIN_SZNTSZ06   -3.8120537  0.0434271   -87.781  &lt; 2e-16 ***\nDESTIN_SZNVSZ01   -0.1071506  0.0051026   -20.999  &lt; 2e-16 ***\nDESTIN_SZNVSZ02   -0.0274710  0.0057611    -4.768 1.86e-06 ***\nDESTIN_SZNVSZ03    0.1076352  0.0057909    18.587  &lt; 2e-16 ***\nDESTIN_SZNVSZ04   -1.2087250  0.0110438  -109.448  &lt; 2e-16 ***\nDESTIN_SZNVSZ05   -1.0058290  0.0092167  -109.131  &lt; 2e-16 ***\nDESTIN_SZPGSZ01   -1.2029931  0.0163170   -73.726  &lt; 2e-16 ***\nDESTIN_SZPGSZ02   -1.2878671  0.0074139  -173.709  &lt; 2e-16 ***\nDESTIN_SZPGSZ03   -0.1520894  0.0048629   -31.275  &lt; 2e-16 ***\nDESTIN_SZPGSZ04   -0.1985959  0.0050374   -39.424  &lt; 2e-16 ***\nDESTIN_SZPGSZ05   -1.5290983  0.0082617  -185.083  &lt; 2e-16 ***\nDESTIN_SZPLSZ01   -0.3567934  0.0074298   -48.022  &lt; 2e-16 ***\nDESTIN_SZPLSZ02   -1.7114351  0.0134462  -127.280  &lt; 2e-16 ***\nDESTIN_SZPLSZ03   -0.3241427  0.0098895   -32.776  &lt; 2e-16 ***\nDESTIN_SZPLSZ04   -1.7117196  0.0119003  -143.838  &lt; 2e-16 ***\nDESTIN_SZPLSZ05   -0.5086379  0.0120051   -42.368  &lt; 2e-16 ***\nDESTIN_SZPNSZ01    0.2026781  0.0068977    29.383  &lt; 2e-16 ***\nDESTIN_SZPNSZ02    0.8313754  0.0078544   105.848  &lt; 2e-16 ***\nDESTIN_SZPNSZ03   -0.4041254  0.0086586   -46.673  &lt; 2e-16 ***\nDESTIN_SZPNSZ04    1.5814539  0.0093641   168.885  &lt; 2e-16 ***\nDESTIN_SZPNSZ05    1.1823430  0.0129843    91.059  &lt; 2e-16 ***\nDESTIN_SZPRSZ01   -1.1057553  0.0088197  -125.374  &lt; 2e-16 ***\nDESTIN_SZPRSZ02    0.0895099  0.0056308    15.897  &lt; 2e-16 ***\nDESTIN_SZPRSZ03    0.6921925  0.0043977   157.397  &lt; 2e-16 ***\nDESTIN_SZPRSZ04   -0.2848336  0.0084725   -33.619  &lt; 2e-16 ***\nDESTIN_SZPRSZ05    0.1744480  0.0053553    32.575  &lt; 2e-16 ***\nDESTIN_SZPRSZ06    0.4279206  0.0058735    72.856  &lt; 2e-16 ***\nDESTIN_SZPRSZ07   -1.5123108  0.0124303  -121.664  &lt; 2e-16 ***\nDESTIN_SZPRSZ08   -0.5650226  0.0068530   -82.449  &lt; 2e-16 ***\nDESTIN_SZQTSZ01   -0.5952360  0.0090505   -65.769  &lt; 2e-16 ***\nDESTIN_SZQTSZ02   -0.7728170  0.0078910   -97.937  &lt; 2e-16 ***\nDESTIN_SZQTSZ03   -0.5066812  0.0073996   -68.474  &lt; 2e-16 ***\nDESTIN_SZQTSZ04   -0.6398414  0.0075411   -84.847  &lt; 2e-16 ***\nDESTIN_SZQTSZ05   -0.4354527  0.0069345   -62.795  &lt; 2e-16 ***\nDESTIN_SZQTSZ06   -0.6597391  0.0071919   -91.733  &lt; 2e-16 ***\nDESTIN_SZQTSZ07   -0.9392696  0.0112518   -83.477  &lt; 2e-16 ***\nDESTIN_SZQTSZ08    0.4617774  0.0057011    80.998  &lt; 2e-16 ***\nDESTIN_SZQTSZ09   -0.3174497  0.0065890   -48.178  &lt; 2e-16 ***\nDESTIN_SZQTSZ10    0.1993449  0.0059923    33.267  &lt; 2e-16 ***\nDESTIN_SZQTSZ11    0.2551535  0.0061885    41.230  &lt; 2e-16 ***\nDESTIN_SZQTSZ12   -0.1662603  0.0086701   -19.176  &lt; 2e-16 ***\nDESTIN_SZQTSZ13    0.5500978  0.0063091    87.192  &lt; 2e-16 ***\nDESTIN_SZQTSZ14    0.5364435  0.0070157    76.463  &lt; 2e-16 ***\nDESTIN_SZQTSZ15    1.3611043  0.0081643   166.715  &lt; 2e-16 ***\nDESTIN_SZRCSZ01   -0.1034049  0.0076769   -13.470  &lt; 2e-16 ***\nDESTIN_SZRCSZ06   -1.0633902  0.0189846   -56.013  &lt; 2e-16 ***\nDESTIN_SZRVSZ01   -1.5486221  0.0165272   -93.701  &lt; 2e-16 ***\nDESTIN_SZRVSZ02   -2.4092611  0.0326906   -73.699  &lt; 2e-16 ***\nDESTIN_SZRVSZ03   -1.5172079  0.0139258  -108.950  &lt; 2e-16 ***\nDESTIN_SZRVSZ04   -1.1663615  0.0157430   -74.088  &lt; 2e-16 ***\nDESTIN_SZRVSZ05   -2.2404292  0.0281339   -79.634  &lt; 2e-16 ***\nDESTIN_SZSBSZ01   -1.3783780  0.0096022  -143.549  &lt; 2e-16 ***\nDESTIN_SZSBSZ02   -1.4445213  0.0081630  -176.959  &lt; 2e-16 ***\nDESTIN_SZSBSZ03    0.5149906  0.0051663    99.683  &lt; 2e-16 ***\nDESTIN_SZSBSZ04    0.2389086  0.0060765    39.317  &lt; 2e-16 ***\nDESTIN_SZSBSZ05   -1.2737442  0.0082818  -153.801  &lt; 2e-16 ***\nDESTIN_SZSBSZ06   -1.8683520  0.0227277   -82.206  &lt; 2e-16 ***\nDESTIN_SZSBSZ07   -0.5993154  0.0184895   -32.414  &lt; 2e-16 ***\nDESTIN_SZSBSZ08    0.8156302  0.0059840   136.302  &lt; 2e-16 ***\nDESTIN_SZSBSZ09    0.0900611  0.0057054    15.785  &lt; 2e-16 ***\nDESTIN_SZSESZ02   -0.6397704  0.0052491  -121.882  &lt; 2e-16 ***\nDESTIN_SZSESZ03    0.1714103  0.0042357    40.468  &lt; 2e-16 ***\nDESTIN_SZSESZ04   -1.0596175  0.0059865  -177.002  &lt; 2e-16 ***\nDESTIN_SZSESZ05   -0.8071891  0.0051229  -157.566  &lt; 2e-16 ***\nDESTIN_SZSESZ06   -0.5580934  0.0066216   -84.284  &lt; 2e-16 ***\nDESTIN_SZSESZ07   -3.1448863  0.0227788  -138.062  &lt; 2e-16 ***\nDESTIN_SZSGSZ01   -0.1795225  0.0060127   -29.857  &lt; 2e-16 ***\nDESTIN_SZSGSZ02   -0.2986570  0.0053561   -55.760  &lt; 2e-16 ***\nDESTIN_SZSGSZ03   -0.4074671  0.0050609   -80.513  &lt; 2e-16 ***\nDESTIN_SZSGSZ04   -0.1505164  0.0050931   -29.553  &lt; 2e-16 ***\nDESTIN_SZSGSZ05   -1.9908372  0.0101448  -196.242  &lt; 2e-16 ***\nDESTIN_SZSGSZ06    0.6715268  0.0041161   163.148  &lt; 2e-16 ***\nDESTIN_SZSGSZ07   -0.4494757  0.0055319   -81.252  &lt; 2e-16 ***\nDESTIN_SZSISZ01   -0.5517983  0.0261860   -21.072  &lt; 2e-16 ***\nDESTIN_SZSKSZ01   -0.4749154  0.0079257   -59.921  &lt; 2e-16 ***\nDESTIN_SZSKSZ02    0.9400302  0.0057218   164.290  &lt; 2e-16 ***\nDESTIN_SZSKSZ03   -0.2800377  0.0066081   -42.378  &lt; 2e-16 ***\nDESTIN_SZSKSZ04   -1.2570212  0.0145351   -86.482  &lt; 2e-16 ***\nDESTIN_SZSKSZ05   -0.2600474  0.0112800   -23.054  &lt; 2e-16 ***\nDESTIN_SZSLSZ01   -0.7775604  0.0085818   -90.606  &lt; 2e-16 ***\nDESTIN_SZSLSZ04   -0.8586515  0.0073142  -117.396  &lt; 2e-16 ***\nDESTIN_SZSRSZ01   -1.1370887  0.0142148   -79.993  &lt; 2e-16 ***\nDESTIN_SZTHSZ01   -4.3259988  0.0368554  -117.378  &lt; 2e-16 ***\nDESTIN_SZTHSZ03   -2.6632914  0.0252720  -105.385  &lt; 2e-16 ***\nDESTIN_SZTHSZ04   -3.1000906  0.0216372  -143.276  &lt; 2e-16 ***\nDESTIN_SZTHSZ06   -2.5952642  0.0156340  -166.001  &lt; 2e-16 ***\nDESTIN_SZTMSZ01   -0.2092828  0.0059257   -35.318  &lt; 2e-16 ***\nDESTIN_SZTMSZ02    1.8238139  0.0039155   465.798  &lt; 2e-16 ***\nDESTIN_SZTMSZ03    0.8518259  0.0043636   195.210  &lt; 2e-16 ***\nDESTIN_SZTMSZ04    1.0222812  0.0043466   235.191  &lt; 2e-16 ***\nDESTIN_SZTMSZ05    0.6323777  0.0060058   105.294  &lt; 2e-16 ***\nDESTIN_SZTNSZ01   -0.3336078  0.0074388   -44.847  &lt; 2e-16 ***\nDESTIN_SZTNSZ02   -1.0820469  0.0101689  -106.408  &lt; 2e-16 ***\nDESTIN_SZTNSZ03   -1.4186505  0.0119906  -118.313  &lt; 2e-16 ***\nDESTIN_SZTNSZ04   -0.3058199  0.0074743   -40.916  &lt; 2e-16 ***\nDESTIN_SZTPSZ01   -0.4872299  0.0061571   -79.133  &lt; 2e-16 ***\nDESTIN_SZTPSZ02    0.7158441  0.0041312   173.278  &lt; 2e-16 ***\nDESTIN_SZTPSZ03   -0.4314229  0.0059917   -72.004  &lt; 2e-16 ***\nDESTIN_SZTPSZ04   -1.5898245  0.0076083  -208.959  &lt; 2e-16 ***\nDESTIN_SZTPSZ05   -1.0445550  0.0062363  -167.497  &lt; 2e-16 ***\nDESTIN_SZTPSZ06   -0.4319582  0.0070100   -61.621  &lt; 2e-16 ***\nDESTIN_SZTPSZ07   -2.1602303  0.0120352  -179.493  &lt; 2e-16 ***\nDESTIN_SZTPSZ08   -1.1920493  0.0093083  -128.063  &lt; 2e-16 ***\nDESTIN_SZTPSZ09   -0.2022481  0.0071137   -28.431  &lt; 2e-16 ***\nDESTIN_SZTPSZ10   -1.2464793  0.0090124  -138.308  &lt; 2e-16 ***\nDESTIN_SZTPSZ11   -0.0808445  0.0056019   -14.432  &lt; 2e-16 ***\nDESTIN_SZTPSZ12   -0.6784376  0.0066340  -102.267  &lt; 2e-16 ***\nDESTIN_SZTSSZ01   -1.5845062  0.0222086   -71.346  &lt; 2e-16 ***\nDESTIN_SZTSSZ02   -0.1886010  0.0146338   -12.888  &lt; 2e-16 ***\nDESTIN_SZTSSZ03    0.6525526  0.0092450    70.585  &lt; 2e-16 ***\nDESTIN_SZTSSZ04    0.5285464  0.0100182    52.759  &lt; 2e-16 ***\nDESTIN_SZTSSZ05    1.4670106  0.0104357   140.577  &lt; 2e-16 ***\nDESTIN_SZTSSZ06    2.5043588  0.0167444   149.564  &lt; 2e-16 ***\nDESTIN_SZWCSZ01    1.9787931  0.0054306   364.375  &lt; 2e-16 ***\nDESTIN_SZWCSZ02   -2.2593108  0.0127916  -176.624  &lt; 2e-16 ***\nDESTIN_SZWCSZ03   -3.1897655  0.0326927   -97.568  &lt; 2e-16 ***\nDESTIN_SZWDSZ01    1.0476108  0.0044629   234.738  &lt; 2e-16 ***\nDESTIN_SZWDSZ02   -1.3176990  0.0065894  -199.973  &lt; 2e-16 ***\nDESTIN_SZWDSZ03    0.3432057  0.0052496    65.377  &lt; 2e-16 ***\nDESTIN_SZWDSZ04   -0.7895927  0.0073392  -107.586  &lt; 2e-16 ***\nDESTIN_SZWDSZ05   -0.8751665  0.0072946  -119.975  &lt; 2e-16 ***\nDESTIN_SZWDSZ06   -0.2106221  0.0053027   -39.720  &lt; 2e-16 ***\nDESTIN_SZWDSZ07   -1.6050834  0.0071754  -223.692  &lt; 2e-16 ***\nDESTIN_SZWDSZ08   -0.5124717  0.0069223   -74.032  &lt; 2e-16 ***\nDESTIN_SZWDSZ09    0.3813542  0.0054697    69.721  &lt; 2e-16 ***\nDESTIN_SZYSSZ01    0.0853753  0.0046572    18.332  &lt; 2e-16 ***\nDESTIN_SZYSSZ02   -0.3227172  0.0057351   -56.271  &lt; 2e-16 ***\nDESTIN_SZYSSZ03   -0.4151283  0.0066299   -62.615  &lt; 2e-16 ***\nDESTIN_SZYSSZ04   -0.4637327  0.0058206   -79.671  &lt; 2e-16 ***\nDESTIN_SZYSSZ05   -1.5888242  0.0111001  -143.136  &lt; 2e-16 ***\nDESTIN_SZYSSZ06   -1.4606209  0.0107759  -135.545  &lt; 2e-16 ***\nDESTIN_SZYSSZ07   -0.7839065  0.0144357   -54.304  &lt; 2e-16 ***\nDESTIN_SZYSSZ08    0.6265412  0.0045504   137.691  &lt; 2e-16 ***\nDESTIN_SZYSSZ09    0.1520067  0.0048092    31.607  &lt; 2e-16 ***\nlog(SCHOOL_COUNT)         NA         NA        NA       NA    \nlog(RETAIL_COUNT)         NA         NA        NA       NA    \nlog(DIST)         -1.8468315  0.0004608 -4008.033  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 47094011  on 14470  degrees of freedom\nResidual deviance: 10420261  on 13912  degrees of freedom\nAIC: 10510518\n\nNumber of Fisher Scoring iterations: 7"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#writeread-data-into-rds-for-subsequent-usage",
    "href": "TakehomeEx/Ex02/takehomeex2.html#writeread-data-into-rds-for-subsequent-usage",
    "title": "Take Home Ex 2",
    "section": "Write/Read Data into rds for Subsequent Usage",
    "text": "Write/Read Data into rds for Subsequent Usage\n\n\nCode\nwrite_rds(hexagon_busstop, \"data/rds/hexagon_busstop.rds\")\n\nwrite_rds(od_wdam_cleaned, \"data/rds/od_wdam_cleaned.rds\")\n\nwrite_rds(hexagon_grid_sf, \"data/rds/hexagon_grid_sf.rds\")\n\n\n\n\nCode\nhexagon_bustops &lt;- read_rds(\"data/rds/hexagon_busstop.rds\")\n\nod_wdam_cleaned &lt;- read_rds(\"data/rds/od_wdam_cleaned.rds\")\n\nhexagon_grid_sf &lt;- read_rds(\"data/rds/hexagon_grid_sf.rds\")\n\nschools_sf &lt;- read_rds(\"data/rds/schools_sf.rds\")\n\nmpsz &lt;- read_rds(\"data/rds/mpsz.rds\")\n\nflow_data_tidy &lt;- read_rds(\"data/rds/flow_data_tidy.rds\")"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#attractiveness-variables",
    "href": "TakehomeEx/Ex02/takehomeex2.html#attractiveness-variables",
    "title": "Take Home Ex 2",
    "section": "Attractiveness Variables",
    "text": "Attractiveness Variables\nWe will compile three attractiveness variables, namely:\n\nSchools (their place of study)\nBusiness (their place of work)\nF&B (to buy breakfast before heading to their final destination, assuming that they will buy food nearer to their location)\n\n\nPreparing the School Data (using data from In Class Ex 4)\n\nhexagon_bustops$SCHOOL_COUNT &lt;- lengths(\n  st_intersects(\n    hexagon_bustops, schools_sf))\n\n\nsum(hexagon_bustops$SCHOOL_COUNT)\n\n\n\nPreparing the Business Data\nWe assume that the businesses equate to the companies etc that people will travel to for their work.\n\nbusiness_sf &lt;- st_read(dsn = \"data/geospatial\", \n               layer = \"Business\")\n\nwrite_rds (business_sf, \"data/rds/business_sf.rds\")\n\n\nhexagon_bustops$BIZ_COUNT &lt;- lengths(\n  st_intersects(\n    hexagon_bustops, business_sf))\n\n\n\nPreparing the F&B Data\n\nfood_sf &lt;- st_read(dsn = \"data/geospatial\", \n               layer = \"F&B\") %&gt;%\n  st_transform (crs=3414)\n\nwrite_rds (food_sf, \"data/rds/food_sf.rds\")\n\n\nhexagon_bustops$FOOD_COUNT &lt;- lengths(\n  st_intersects(hexagon_bustops, food_sf))"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#propulsive-variables",
    "href": "TakehomeEx/Ex02/takehomeex2.html#propulsive-variables",
    "title": "Take Home Ex 2",
    "section": "Propulsive Variables",
    "text": "Propulsive Variables\nWe will look at three propulsive variables, namely:\n\nNumber of Population\nNumber of Train Stations Exits\nNumber of Bus Stops (already available since Take Home Ex 1)\nLocation of Pre Schools (assuming parents will bring their child to the nearest pre-school which should be within walking distance, before going to the nearest bus stop to travel for work)\nNumber of Buses available within each grid - tried to obtain the bus route data from LTA Data Mall, but there data seems limited and outdated (no actual date on when it was last updated); so decided not to pursue this.\n\n\nPreparing the Data on Populace\nWe utilise the hdb data provided by Prof.\n\nhdb &lt;- read_csv (\"data/aspatial/hdb.csv\")\n\nBased on the data, we will be able to intersect the locations, types of dwellings (whether 1-room, 2-room, rental and etc) to have an estimate on the number of population in each grid.\nSo based on past studies in 2018:\n\n\n\nTypes of Dwelling\nAverage Household Size\nRemarks\n\n\n\n\n1-Room / Rental\n2.3\n\n\n\n2-Room\n2.19\n\n\n\n3-Room\n2.63\n\n\n\n4-Room\n3.42\n\n\n\n5-Room / Exec\n3.77\n\n\n\n\n\nhdb_tidy &lt;- hdb %&gt;%\n  select(13:25, \"lat\", \"lng\") %&gt;%\n  mutate(one_Rm = (`1room_sold` + `1room_rental` + studio_apartment_sold + other_room_rental)*2.3) %&gt;%\n  mutate(two_Rm = (`2room_sold` + `2room_rental`)*2.19) %&gt;%\n  mutate(three_Rm = (`3room_sold` + `3room_rental`)*2.63) %&gt;%\n  mutate(four_Rm = (`4room_sold`) * 3.42) %&gt;%\n  mutate(five_rm = (`5room_sold` + `exec_sold` + multigen_sold)*3.77)\n\n\nhdb_tidy &lt;- hdb_tidy %&gt;%\n  select (14:20) %&gt;%\n  mutate (pop = one_Rm + two_Rm + three_Rm + four_Rm + five_rm)\n\nCovert to sf data.\n\nhdb_sf &lt;- st_as_sf(hdb_tidy,\n                      coords = c(\"lng\", \"lat\"),\n                      crs = 4326) %&gt;%\n  st_transform (crs=3414)\n\nwrite_rds (hdb_sf, \"data/rds/hdb_sf.rds\")\n\nPlotting the data onto tmap to get a sense of where the hdb locations are. It seems to be near the typical hub and transport nodes from earlier maps.\n\nhdb_sf &lt;- read_rds(\"data/rds/hdb_sf.rds\")\n\n\n\nCode\ntmap_options(check.and.fix = TRUE)\ntmap_mode(\"plot\")\n\ntm_shape(mpsz) +\n  tm_polygons(col = \"black\", alpha = 0.5) +\n  tm_layout(main.title = \"Population Data\",\n            main.title.position = \"center\",\n            main.title.size = 1.0,\n            frame = TRUE) +\n  tm_borders(alpha = 0.5) +\n  tm_compass(type=\"8star\", size = 2) +\n  tm_scale_bar() +\n  tm_grid(alpha =0.2, labels.show = FALSE)+\ntm_shape(hdb_sf) +\n  tm_dots(alpha = 0.3, col = \"lightblue\")\n\n\n\n\n\n\nhexagon_bustops$POP &lt;- sapply(\n  st_intersects(hexagon_bustops, hdb_sf),\n  function(indices) sum(hdb_sf$pop[indices])\n)\n\n\n\nTrain Station Exit\nI think that the train station exits can be considered as both propulsive and attractive, e.g. people will take buses to the nearest train station exit, then take on the mrt to their next destination.\nBut they can also exit from the train station, then proceed to take bus to their place of work or study.\nI downloaded the static shp file of the train station exits from LTADataMall.\n\ntrain_exits_sf &lt;- st_read(dsn = \"data/geospatial\", \n               layer = \"Train_Station_Exit_Layer\") %&gt;%\n  st_transform (crs=3414)\n\n\nwrite_rds (train_exits_sf, \"data/rds/train_exits_sf.rds\")\n\n\nhexagon_bustops$TRAIN_EXITS_COUNT &lt;- lengths(\n  st_intersects(\n    hexagon_bustops, train_exits_sf))\n\n\n\nLocation of Pre-Schools\nUsing the Onemap API, I gain access to the “Child Care Services” theme.\nThis is updated by ECDA in Dec 23 and i saved it in JSON format.\nI will use the jsonlite package to convert the data.\n\nchildcare &lt;- fromJSON(\"data/aspatial/childcare.json\", flatten = TRUE)\n\n\nchildcare_tidy &lt;- childcare %&gt;%\n  select(9:14) %&gt;%\n  slice(-1) %&gt;%\n  separate(col = SrchResults.LatLng, into = c(\"lat\", \"long\"), sep = \",\", convert = TRUE)\n\n\nchildcare_sf &lt;- st_as_sf(childcare_tidy,\n                      coords = c(\"long\", \"lat\"),\n                      crs = 4326) %&gt;%\n  st_transform (crs=3414)\n\nwrite_rds (childcare_sf, \"data/rds/childcare_sf.rds\")\n\n\nhexagon_bustops$CHILDCARE_COUNT &lt;- lengths(\n  st_intersects(\n    hexagon_bustops, childcare_sf))\n\nAll the data were combined and written into an rds file.\n\nwrite_rds (hexagon_bustops, \"data/rds/combined_data.rds\")\n\n\ncombined_data &lt;- read_rds(\"data/rds/combined_data.rds\")"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-flow-data-1",
    "href": "TakehomeEx/Ex02/takehomeex2.html#preparing-the-flow-data-1",
    "title": "Take Home Ex 2",
    "section": "Preparing the Flow Data",
    "text": "Preparing the Flow Data\n\nGrouping the Flow Data\n\nflow_data &lt;- od_wdam_cleaned %&gt;%\n  group_by(ORIGIN_Grid, DESTIN_Grid) %&gt;% \n  summarize(TRIPS = sum(MORNING_PEAK)) \n\n\nflow_data &lt;- od2line(flow = flow_data, \n                    zones = hexagon_grid_sf,\n                    zone_code = \"grid_id\")\n\n\n\nSeparating the Intra-Flow Data\n\nflow_data$FlowNoIntra &lt;- ifelse(\n  flow_data$ORIGIN_Grid == flow_data$DESTIN_Grid, \n  0, flow_data$TRIPS)\nflow_data$offset &lt;- ifelse(\n  flow_data$ORIGIN_Grid == flow_data$DESTIN_Grid, \n  0.000001, 1)\n\n\n\nCombining Passenger Volume Data with Dist Data\n\nflow_data1 &lt;- flow_data %&gt;%\n  left_join (distPair,\n             by = c(\"ORIGIN_Grid\" = \"orig\",\n                    \"DESTIN_Grid\" = \"dest\"))\n\n\n\nCombining the Data with Propulsive and Attractive Variables Data\n\ncombined_tidy &lt;- combined_data %&gt;%\n  st_drop_geometry()\n\n\ncombined_tidy$DESTIN_TRAIN_EXITS &lt;- combined_tidy$TRAIN_EXITS_COUNT\n\n\nflow_data_tidy &lt;- flow_data1 %&gt;%\n  left_join(\n    combined_tidy %&gt;% \n      select(grid_id, SCHOOL_COUNT, BIZ_COUNT, FOOD_COUNT, DESTIN_TRAIN_EXITS),\n      by = c(\"DESTIN_Grid\" = \"grid_id\")\n  ) %&gt;%\n  rename(DIST = dist)\n\n\nflow_data_tidy &lt;- flow_data_tidy %&gt;%\n  left_join(\n    combined_tidy %&gt;% \n      select(grid_id, POP, TRAIN_EXITS_COUNT, CHILDCARE_COUNT, n_busstops),\n      by = c(\"ORIGIN_Grid\" = \"grid_id\")\n  ) \n\nEnsure variables with value = 0 are adjusted to 0.99.\n\nflow_data_tidy$SCHOOL_COUNT &lt;- ifelse(\n  flow_data_tidy$SCHOOL_COUNT == 0,\n  0.99, flow_data_tidy$SCHOOL_COUNT)\n\nflow_data_tidy$BIZ_COUNT &lt;- ifelse(\n  flow_data_tidy$BIZ_COUNT == 0,\n  0.99, flow_data_tidy$BIZ_COUNT)\n\nflow_data_tidy$FOOD_COUNT &lt;- ifelse(\n  flow_data_tidy$FOOD_COUNT == 0,\n  0.99, flow_data_tidy$FOOD_COUNT)\n\nflow_data_tidy$TRAIN_EXITS_COUNT &lt;- ifelse(\n  flow_data_tidy$TRAIN_EXITS_COUNT == 0,\n  0.99, flow_data_tidy$TRAIN_EXITS_COUNT)\n\nflow_data_tidy$DESTIN_TRAIN_EXITS &lt;- ifelse(\n  flow_data_tidy$DESTIN_TRAIN_EXITS == 0,\n  0.99, flow_data_tidy$DESTIN_TRAIN_EXITS)\n\nflow_data_tidy$POP &lt;- ifelse(\n  flow_data_tidy$POP == 0,\n  0.99, flow_data_tidy$POP)\n\nflow_data_tidy$CHILDCARE_COUNT &lt;- ifelse(\n  flow_data_tidy$CHILDCARE_COUNT == 0,\n  0.99, flow_data_tidy$CHILDCARE_COUNT)\n\n\nwrite_rds (flow_data_tidy, \"data/rds/flow_data_tidy.rds\")"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#unconstrained-spatial-interaction-model",
    "href": "TakehomeEx/Ex02/takehomeex2.html#unconstrained-spatial-interaction-model",
    "title": "Take Home Ex 2",
    "section": "Unconstrained Spatial Interaction Model",
    "text": "Unconstrained Spatial Interaction Model\n\nuncSIM &lt;- glm(formula = TRIPS ~ \n                log(SCHOOL_COUNT) +\n                log(BIZ_COUNT) +\n                log(FOOD_COUNT) +\n                log(POP) +\n                log(TRAIN_EXITS_COUNT) +\n                log(DESTIN_TRAIN_EXITS) +\n                log(CHILDCARE_COUNT) +\n                log(n_busstops) +\n                log(DIST),\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\nwrite_rds(uncSIM, \"data/rds/uncSIM.rds\")\n\n\nuncSIM &lt;- read_rds(\"data/rds/uncSIM.rds\")\n\n\nsummary(uncSIM)\n\n\nuncSIM$coefficients\n\n            (Intercept)       log(SCHOOL_COUNT)          log(BIZ_COUNT) \n            15.47983659              0.22934326              0.06342174 \n        log(FOOD_COUNT)                log(POP)  log(TRAIN_EXITS_COUNT) \n            -0.18584936              0.10815754              0.13415311 \nlog(DESTIN_TRAIN_EXITS)    log(CHILDCARE_COUNT)         log(n_busstops) \n             0.73041463              0.23220688              0.28776758 \n              log(DIST) \n            -1.43823810 \n\n\nBased on the results, all the coefficients are statistically significant. The most influential explanatory variables are distance, destination train exit count and origin number of bus stops with coefficients of -1.43, 0.73 and 0.29 respectively."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#origin---constrained-model",
    "href": "TakehomeEx/Ex02/takehomeex2.html#origin---constrained-model",
    "title": "Take Home Ex 2",
    "section": "Origin - Constrained Model",
    "text": "Origin - Constrained Model\n\n\n\n\n\n\nNote\n\n\n\n\nFor origin-constrained model, only explanatory variables representing the attractiveness at the destinations will be used.\nAll the explanatory variables including distance will be log transformed.\nORIGIN_Grid is used to model 𝜇𝑖 . It must be in categorical data type.\nIt is important to note that -1 is added in the equation after the distance variable. The -1 serves the purpose of removing the intercept that by default, glm will insert into the model.\n\n\n\n\norcSIM_Poisson &lt;- glm(formula = TRIPS ~ \n                ORIGIN_Grid +\n                log(SCHOOL_COUNT) +\n                log(BIZ_COUNT) +\n                log(FOOD_COUNT) +\n                log(DESTIN_TRAIN_EXITS) +\n                log(DIST) - 1,\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\nwrite_rds(orcSIM_Poisson, \"data/rds/orcSIM_Poisson.rds\")\n\n\norcSIM_Poisson &lt;- read_rds(\"data/rds/orcSIM_Poisson.rds\")\n\n\ntail(summary(orcSIM_Poisson)$coefficients, n = 10)\n\nBased on the results, all of the coefficients are statistically significant. The most influential explanatory variables are distance, destination train exit count and destination school count with coefficients of -1.5, 0.8 and 0.22 respectively."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#destination-constrained-model",
    "href": "TakehomeEx/Ex02/takehomeex2.html#destination-constrained-model",
    "title": "Take Home Ex 2",
    "section": "Destination Constrained Model",
    "text": "Destination Constrained Model\nLook at the propulsive variables.\n\ndecSIM &lt;- glm(formula = TRIPS ~ \n                DESTIN_Grid +\n                log(POP) +\n                log(CHILDCARE_COUNT) +\n                log(TRAIN_EXITS_COUNT) +\n                log(n_busstops) +\n                log(DIST) - 1,\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\nwrite_rds(decSIM, \"data/rds/decSIM.rds\")\n\n\ndecSIM &lt;- read_rds(\"data/rds/decSIM.rds\")\n\n\ntail(summary(decSIM)$coefficients, n = 10)\n\n                         Estimate   Std. Error    z value Pr(&gt;|z|)\nDESTIN_Grid2405        17.5811819 5.002583e-03  3514.4207        0\nDESTIN_Grid2406        14.5548014 2.397634e-02   607.0486        0\nDESTIN_Grid2426        16.9283986 1.112556e-02  1521.5769        0\nDESTIN_Grid2427        17.1907334 6.832253e-03  2516.1150        0\nDESTIN_Grid2505        17.4420466 1.823257e-02   956.6424        0\nlog(POP)                0.1131565 8.436976e-05  1341.1971        0\nlog(CHILDCARE_COUNT)    0.2457757 3.667393e-04   670.1647        0\nlog(TRAIN_EXITS_COUNT)  0.2858289 3.261035e-04   876.4974        0\nlog(n_busstops)         0.2937858 5.204764e-04   564.4556        0\nlog(DIST)              -1.4849210 2.627804e-04 -5650.8062        0\n\n\nBased on the results, all of the coefficients are statistically significant. The most influential explanatory variables are distance, origin number of bus stops and origin train exit count with coefficients of -1.48, 0.29 and 0.285 respectively."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#doubly-constrained-model",
    "href": "TakehomeEx/Ex02/takehomeex2.html#doubly-constrained-model",
    "title": "Take Home Ex 2",
    "section": "Doubly Constrained Model",
    "text": "Doubly Constrained Model\n\ndbcSIM &lt;- glm(formula = TRIPS ~ \n                ORIGIN_Grid + \n                DESTIN_Grid + \n                log(DIST),\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow,\n              na.action = na.exclude)\n\n\nwrite_rds (dbcSIM, \"data/rds/dbcSIM.rds\")\n\n\ndbcSIM &lt;- read_rds(\"data/rds/dbcSIM.rds\")\n\n\ntail(summary(dbcSIM)$coefficients, n = 10)\n\n                  Estimate   Std. Error      z value      Pr(&gt;|z|)\nDESTIN_Grid2361 -0.4335822 0.0477142410    -9.087061  1.017526e-19\nDESTIN_Grid2364 -2.4268487 0.0554825623   -43.740746  0.000000e+00\nDESTIN_Grid2379 -1.4134320 0.0546363548   -25.869808 1.456682e-147\nDESTIN_Grid2384  0.5506025 0.0473633047    11.625087  3.072801e-31\nDESTIN_Grid2405  1.1919496 0.0471732041    25.267514 7.271724e-141\nDESTIN_Grid2406 -1.8422643 0.0526903433   -34.963984 7.938991e-268\nDESTIN_Grid2426  0.6352864 0.0482337535    13.170992  1.288934e-39\nDESTIN_Grid2427  0.9464266 0.0473875928    19.972033  9.644730e-89\nDESTIN_Grid2505  0.5333907 0.0507135194    10.517722  7.158336e-26\nlog(DIST)       -1.6077121 0.0002913633 -5517.894356  0.000000e+00\n\n\nThe variable distance is statistically significant."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#model-comparisons",
    "href": "TakehomeEx/Ex02/takehomeex2.html#model-comparisons",
    "title": "Take Home Ex 2",
    "section": "Model Comparisons",
    "text": "Model Comparisons\nWe will use compare_performance() of performance package.\nFirst of all, let us create a list called model_list by using the code chunk below.\n\nmodel_list &lt;- list(unconstrained=uncSIM,\n                   originConstrained=orcSIM_Poisson,\n                   destinationConstrained=decSIM,\n                   doublyConstrained=dbcSIM)\n\nNext, we will compute the RMSE of all the models in model_list file by using the code chunk below.\n\ncompare_performance(model_list,\n                    metrics = \"RMSE\")\n\n# Comparison of Model Performance Indices\n\nName                   | Model |     RMSE\n-----------------------------------------\nunconstrained          |   glm | 1625.597\noriginConstrained      |   glm | 1491.508\ndestinationConstrained |   glm | 1396.745\ndoublyConstrained      |   glm | 1172.123"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#visualising-the-fitted-values",
    "href": "TakehomeEx/Ex02/takehomeex2.html#visualising-the-fitted-values",
    "title": "Take Home Ex 2",
    "section": "Visualising the Fitted Values",
    "text": "Visualising the Fitted Values\n\ndf &lt;- as.data.frame(uncSIM$fitted.values) %&gt;%\n  round(digits = 0)\n\n\nSIM_data &lt;- inter_zonal_flow %&gt;%\n  cbind(df) %&gt;%\n  rename(uncTRIPS = \"uncSIM.fitted.values\")\n\n\ndf &lt;- as.data.frame(orcSIM_Poisson$fitted.values) %&gt;%\n  round(digits = 0)\n\n\nSIM_data &lt;- SIM_data %&gt;%\n  cbind(df) %&gt;%\n  rename(orcTRIPS = \"orcSIM_Poisson.fitted.values\")\n\n\ndf &lt;- as.data.frame(decSIM$fitted.values) %&gt;%\n  round(digits = 0)\n\n\nSIM_data &lt;- SIM_data %&gt;%\n  cbind(df) %&gt;%\n  rename(decTRIPS = \"decSIM.fitted.values\")\n\n\ndf &lt;- as.data.frame(dbcSIM$fitted.values) %&gt;%\n  round(digits = 0)\n\n\nSIM_data &lt;- SIM_data %&gt;%\n  cbind(df) %&gt;%\n  rename(dbcTRIPS = \"dbcSIM.fitted.values\")\n\n\nwrite_rds(SIM_data, \"data/rds/SIM_data.rds\")\n\n\nunc_p &lt;- ggplot(data = SIM_data,\n                aes(x = uncTRIPS,\n                    y = TRIPS)) +\n  geom_point() +\n  geom_smooth(method = lm)\n\norc_p &lt;- ggplot(data = SIM_data,\n                aes(x = orcTRIPS,\n                    y = TRIPS)) +\n  geom_point() +\n  geom_smooth(method = lm)\n\ndec_p &lt;- ggplot(data = SIM_data,\n                aes(x = decTRIPS,\n                    y = TRIPS)) +\n  geom_point() +\n  geom_smooth(method = lm)\n\ndbc_p &lt;- ggplot(data = SIM_data,\n                aes(x = dbcTRIPS,\n                    y = TRIPS)) +\n  geom_point() +\n  geom_smooth(method = lm)\n\nggarrange(unc_p, orc_p, dec_p, dbc_p,\n          ncol = 2,\n          nrow = 2)\n\n\n\n\nFrom the graphs - I noticed that there is a certain outlier in the data. I will try to identify that data and remove it. Thereafter, to rerun the Doubly Constrained Model to see if there is an improvement."
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html",
    "href": "InClassEx/Ex05/inclassex5.html",
    "title": "In Class Ex 5",
    "section": "",
    "text": "Due to the limitations of the Spatial Interaction Models - we will look at the Spatial Econometrics Interaction Model.\nHere - we will add on a weight to the SIM that we have previously developed. (Specific for Origin-Destination Flows)\n\n\n\n\n\n\nNote\n\n\n\nThis can be applied to beyond just OD flow."
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#packages",
    "href": "InClassEx/Ex05/inclassex5.html#packages",
    "title": "In Class Ex 5",
    "section": "Packages",
    "text": "Packages\nNew package that we will be using - spflow. To install the latest version instead of the published one:\n\ndevtools::install_github(\"LukeCe/spflow\")\n\n\npacman::p_load(tmap, sf, spdep, sp, Matrix,\n               reshape2, tidyverse, spflow)\n\n\nEfficient estimation of spatial econometric models of origin-destination flows, which may exhibit spatial autocorrelation in the dependent variable, the explanatory variables or both. The model is the one proposed by LeSage and Pace (2008), who develop a matrix formulation that exploits the relational structure of flow data. The estimation procedures follow most closely those outlined by Dargel (2021)."
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#data",
    "href": "InClassEx/Ex05/inclassex5.html#data",
    "title": "In Class Ex 5",
    "section": "Data",
    "text": "Data\n\nHow the Data was Prepared\nTo add on later.\n\n\nReading the Data Prepared by Prof"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#creating-the-spflow_network_class-objects",
    "href": "InClassEx/Ex05/inclassex5.html#creating-the-spflow_network_class-objects",
    "title": "In Class Ex 5",
    "section": "Creating the spflow_network_class Objects",
    "text": "Creating the spflow_network_class Objects\nTo describe the nodes of a network the package provides spflow_network-class that combines attributes of the nodes with the chosen network structure.\nFor our model we choose the contiguity based neighborhood structure.\nShould not use by distance. Why?\n\nmpsz_net &lt;- spflow_network(\n    id_net = \"sg\",\n    node_neighborhood = nb2mat(mpsz_nb$by_contiguity),\n    node_data = mpsz_var,\n    node_key_column = \"SZ_CODE\")\n\nmpsz_net\n\nSpatial network nodes with id: sg\n--------------------------------------------------\nNumber of nodes: 313\nAverage number of links per node: 6.077\nDensity of the neighborhood matrix: 1.94% (non-zero connections)\n\nData on nodes:\n                SZ_NAME SZ_CODE BUSSTOP_COUNT AGE7_12 AGE13_24 AGE25_64\n1      INSTITUTION HILL  RVSZ05             2     330      360     2260\n2        ROBERTSON QUAY  SRSZ01            10     320      350     2200\n3          FORT CANNING  MUSZ02             6       0       10       30\n4      MARINA EAST (MP)  MPSZ05             2       0        0        0\n5               SENTOSA  SISZ01             1     200      260     1440\n6        CITY TERMINALS  BMSZ17            10       0        0        0\n---                 ---     ---           ---     ---      ---      ---\n308            NEE SOON  YSSZ07            12      90      140      590\n309       UPPER THOMSON  BSSZ01            47    1590     3660    15980\n310          SHANGRI-LA  AMSZ05            12     810     1920     9650\n311          TOWNSVILLE  AMSZ04             9     980     2000    11320\n312           MARYMOUNT  BSSZ02            25    1610     4060    16860\n313 TUAS VIEW EXTENSION  TSSZ06            11       0        0        0\n    SCHOOL_COUNT BUSINESS_COUNT RETAILS_COUNT FINSERV_COUNT ENTERTN_COUNT\n1              1              6            26             3             0\n2              0              4           207            18             6\n3              0              7            17             0             3\n4              0              0             0             0             0\n5              0              1            84            29             2\n6              0             11            14             4             0\n---          ---            ---           ---           ---           ---\n308            0              0             7             0             0\n309            3             21           305            30             0\n310            3              0            53             9             0\n311            1              0            83            11             0\n312            3             19           135             8             0\n313            0             53             3             1             0\n    FB_COUNT LR_COUNT COORD_X COORD_Y\n1          4        3  103.84    1.29\n2         38       11  103.84    1.29\n3          4        7  103.85    1.29\n4          0        0  103.88    1.29\n5         38       20  103.83    1.25\n6         15        0  103.85    1.26\n---      ---      ---     ---     ---\n308        0        0  103.81     1.4\n309        5       11  103.83    1.36\n310        0        0  103.84    1.37\n311        1        1  103.85    1.36\n312        3       11  103.84    1.35\n313        0        0  103.61    1.26"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#network_pair_class-objects",
    "href": "InClassEx/Ex05/inclassex5.html#network_pair_class-objects",
    "title": "In Class Ex 5",
    "section": "Network_Pair_Class Objects",
    "text": "Network_Pair_Class Objects\nThe spflow_network_pair-class contains all information on the pairs of nodes belonging to the origin and destination networks.\n\nmpsz_net_pairs &lt;- spflow_network_pair(\n  id_orig_net = \"sg\",\n  id_dest_net = \"sg\",\n  pair_data = mpsz_flow,\n  orig_key_column = \"ORIGIN_SZ\",\n  dest_key_column = \"DESTIN_SZ\")\n\nmpsz_net_pairs\n\nSpatial network pair with id: sg_sg\n--------------------------------------------------\nOrigin network id: sg (with 313 nodes)\nDestination network id: sg (with 313 nodes)\nNumber of pairs: 97969\nCompleteness of pairs: 100.00% (97969/97969)\n\nData on node-pairs:\n      DESTIN_SZ ORIGIN_SZ DISTANCE TRIPS\n1        RVSZ05    RVSZ05        0    67\n314      SRSZ01    RVSZ05   305.74   251\n627      MUSZ02    RVSZ05   951.83     0\n940      MPSZ05    RVSZ05  5254.07     0\n1253     SISZ01    RVSZ05     4975     0\n1566     BMSZ17    RVSZ05  3176.16     0\n---         ---       ---      ---   ---\n96404    YSSZ07    TSSZ06 26972.97     0\n96717    BSSZ01    TSSZ06 25582.48     0\n97030    AMSZ05    TSSZ06 26714.79     0\n97343    AMSZ04    TSSZ06 27572.74     0\n97656    BSSZ02    TSSZ06  26681.7     0\n97969    TSSZ06    TSSZ06        0   270"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#network_multi-class",
    "href": "InClassEx/Ex05/inclassex5.html#network_multi-class",
    "title": "In Class Ex 5",
    "section": "Network_Multi-class",
    "text": "Network_Multi-class\nThe spflow_network_multi-class combines information on the nodes and the node-pairs and also ensures that both data sources are consistent. For example, if some of the origins in the spflow_network_pair-class are not identified with the nodes in the spflow_network-class an error will be raised.\n\nmpsz_multinet &lt;- spflow_network_multi(mpsz_net,mpsz_net_pairs)\n\nmpsz_multinet\n\nCollection of spatial network nodes and pairs\n--------------------------------------------------\nContains 1 spatial network nodes  \n    With id :  sg\nContains 1 spatial network pairs  \n    With id :  sg_sg\n\nAvailability of origin-destination pair information:\n\n ID_ORIG_NET ID_DEST_NET ID_NET_PAIR COMPLETENESS     C_PAIRS  C_ORIG  C_DEST\n          sg          sg       sg_sg      100.00% 97969/97969 313/313 313/313"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#plotting",
    "href": "InClassEx/Ex05/inclassex5.html#plotting",
    "title": "In Class Ex 5",
    "section": "Plotting",
    "text": "Plotting\nGiven the information on origins, destinations and OD pairs we can use the spflow_map() method for a simple geographic representation of the largest flows.\n\nplot(mpsz_var$geometry)\n\nspflow_map(\n  mpsz_multinet,\n  flow_var = \"TRIPS\",\n  add = TRUE,          \n  legend_position = \"bottomleft\",\n  filter_lowest = .95, \n  remove_intra = TRUE,  \n  cex = 1)\n\nBefore estimating a model we should investigate the correlation structure of the input data. The pair_cor() method creates a correlation matrix, which we can represent using the cor_image(). The formula is used clarify which variables should be included in the correlation matrix. The details of how to use this formula are explained later in this vignette and documented in ?spflow.\nWe need to more stringent of variables that are highly correlated into the model. So we need to do this analysis to weed out the variables.\nCan also be used to detect the suitable explanatory variables.\n\ncor_formula &lt;- log(1 + TRIPS) ~ \n  BUSSTOP_COUNT +\n  AGE7_12 +\n  AGE13_24 +\n  AGE25_64 +\n  SCHOOL_COUNT +\n  BUSINESS_COUNT +\n  RETAILS_COUNT +\n  FINSERV_COUNT +\n  + P_(log( 1 + DISTANCE))\n\ncor_mat &lt;- pair_cor(mpsz_multinet, spflow_formula = cor_formula, add_lags_x = FALSE)\n\ncolnames(cor_mat) &lt;- paste0(substr(colnames(cor_mat),1,3),\"...\")\n\ncor_image(cor_mat, cex = 0.4)\n\n\n\n\nFrom the matrix above - we can see that the age groups are highly correlated. We can choose to group them together."
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#estimating-with-default-values",
    "href": "InClassEx/Ex05/inclassex5.html#estimating-with-default-values",
    "title": "In Class Ex 5",
    "section": "Estimating with Default Values",
    "text": "Estimating with Default Values\nEstimation with default settings requires two arguments: a spflow_network_multi-class and a spflow_formula. The spflow_formula specifies the model we want to estimate. In this example, the dependent variable is a transformation of commuting flows and we use the do- shortcut to indicate that all available variables should be included in the model. Using the defaults leads to the most comprehensive spatial interaction model, which includes spatial lags of the dependent variable, the exogenous variables and additional attributes for intra-regional observations.\n\nresults_default &lt;- spflow(\n  spflow_formula = log(1 + TRIPS) ~ . + P_(log( 1 + DISTANCE)),\n  spflow_networks = mpsz_multinet)\n\nresults_default\n\n--------------------------------------------------\nSpatial interaction model estimated by: MLE  \nSpatial correlation structure: SDM (model_9)\nDependent variable: log(1 + TRIPS)\n\n--------------------------------------------------\nCoefficients:\n                          est     sd   t.stat  p.val\nrho_d                   0.675  0.004  188.755  0.000\nrho_o                   0.670  0.004  183.193  0.000\nrho_w                  -0.389  0.006  -62.262  0.000\n(Intercept)             0.495  0.071    6.965  0.000\n(Intra)                 1.022  0.114    8.941  0.000\nD_BUSSTOP_COUNT         0.003  0.000    7.386  0.000\nD_BUSSTOP_COUNT.lag1   -0.002  0.001   -2.383  0.017\nD_AGE7_12               0.000  0.000   -2.774  0.006\nD_AGE7_12.lag1          0.000  0.000    1.026  0.305\nD_AGE13_24              0.000  0.000   -3.807  0.000\nD_AGE13_24.lag1         0.000  0.000    1.298  0.194\nD_AGE25_64              0.000  0.000    4.935  0.000\nD_AGE25_64.lag1         0.000  0.000   -2.361  0.018\nD_SCHOOL_COUNT          0.002  0.004    0.556  0.578\nD_SCHOOL_COUNT.lag1     0.023  0.010    2.408  0.016\nD_BUSINESS_COUNT        0.000  0.000   -0.535  0.592\nD_BUSINESS_COUNT.lag1   0.000  0.000    0.105  0.916\nD_RETAILS_COUNT         0.000  0.000    0.857  0.392\nD_RETAILS_COUNT.lag1    0.000  0.000   -0.372  0.710\nD_FINSERV_COUNT         0.002  0.000    4.890  0.000\nD_FINSERV_COUNT.lag1   -0.001  0.001   -1.741  0.082\nD_ENTERTN_COUNT         0.007  0.004    1.755  0.079\nD_ENTERTN_COUNT.lag1   -0.012  0.007   -1.773  0.076\nD_FB_COUNT             -0.001  0.000   -4.761  0.000\nD_FB_COUNT.lag1         0.001  0.001    2.101  0.036\nD_LR_COUNT              0.001  0.001    1.206  0.228\nD_LR_COUNT.lag1        -0.004  0.002   -2.566  0.010\nO_BUSSTOP_COUNT         0.002  0.000    4.583  0.000\nO_BUSSTOP_COUNT.lag1   -0.002  0.001   -2.692  0.007\nO_AGE7_12               0.000  0.000   -3.033  0.002\nO_AGE7_12.lag1          0.000  0.000   -0.103  0.918\nO_AGE13_24              0.000  0.000   -4.569  0.000\nO_AGE13_24.lag1         0.000  0.000    1.890  0.059\nO_AGE25_64              0.000  0.000    6.149  0.000\nO_AGE25_64.lag1         0.000  0.000   -2.323  0.020\nO_SCHOOL_COUNT          0.005  0.004    1.371  0.170\nO_SCHOOL_COUNT.lag1     0.025  0.010    2.622  0.009\nO_BUSINESS_COUNT        0.000  0.000   -1.914  0.056\nO_BUSINESS_COUNT.lag1   0.000  0.000    2.078  0.038\nO_RETAILS_COUNT         0.000  0.000    0.834  0.404\nO_RETAILS_COUNT.lag1    0.000  0.000   -1.544  0.122\nO_FINSERV_COUNT         0.002  0.000    4.778  0.000\nO_FINSERV_COUNT.lag1   -0.001  0.001   -1.333  0.183\nO_ENTERTN_COUNT         0.006  0.004    1.679  0.093\nO_ENTERTN_COUNT.lag1   -0.005  0.007   -0.776  0.438\nO_FB_COUNT             -0.001  0.000   -2.480  0.013\nO_FB_COUNT.lag1         0.000  0.001    0.481  0.630\nO_LR_COUNT             -0.001  0.001   -1.133  0.257\nO_LR_COUNT.lag1        -0.001  0.002   -0.321  0.748\nI_BUSSTOP_COUNT         0.032  0.007    4.503  0.000\nI_AGE7_12               0.000  0.000    1.764  0.078\nI_AGE13_24              0.000  0.000    2.340  0.019\nI_AGE25_64              0.000  0.000   -3.644  0.000\nI_SCHOOL_COUNT          0.156  0.063    2.453  0.014\nI_BUSINESS_COUNT        0.001  0.002    0.644  0.519\nI_RETAILS_COUNT         0.000  0.001    0.343  0.731\nI_FINSERV_COUNT        -0.022  0.006   -3.824  0.000\nI_ENTERTN_COUNT        -0.251  0.063   -3.961  0.000\nI_FB_COUNT             -0.013  0.005   -2.613  0.009\nI_LR_COUNT              0.047  0.014    3.391  0.001\nP_log(1 + DISTANCE)    -0.056  0.008   -7.214  0.000\n\n--------------------------------------------------\nR2_corr: 0.6945675  \nObservations: 97969  \nModel coherence: Validated"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#adjusting-formula",
    "href": "InClassEx/Ex05/inclassex5.html#adjusting-formula",
    "title": "In Class Ex 5",
    "section": "Adjusting Formula",
    "text": "Adjusting Formula\nWe can adjust how the exogenous variables are to be used by wrapping them into the D_(), O_(), I_() and P_() functions. The variables in P_() are used as OD pair features and those in D_(), O_() and I_() are used as destination, origin and intra-regional features. We can take advantage of the formula interface to specify transformations and expand factor variables to dummies."
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#base-model",
    "href": "InClassEx/Ex05/inclassex5.html#base-model",
    "title": "In Class Ex 5",
    "section": "Base Model",
    "text": "Base Model\nFor the TRIPS and DIST - added + 1 to avoid any log(0) situations.\n\nspflow_formula  &lt;- \n  log(TRIPS + 1) ~\n  O_(BUSSTOP_COUNT +\n       AGE25_64) +\n  \n  D_(SCHOOL_COUNT +\n       BUSINESS_COUNT +\n       RETAILS_COUNT +\n       FINSERV_COUNT) +\n\n  P_(log(DISTANCE + 1))\n\nbase_model  &lt;- spflow(\n  spflow_formula,\n  mpsz_multinet)\n\nbase_model\n\n--------------------------------------------------\nSpatial interaction model estimated by: MLE  \nSpatial correlation structure: SDM (model_9)\nDependent variable: log(TRIPS + 1)\n\n--------------------------------------------------\nCoefficients:\n                          est     sd   t.stat  p.val\nrho_d                   0.680  0.004  192.554  0.000\nrho_o                   0.678  0.004  187.732  0.000\nrho_w                  -0.396  0.006  -65.591  0.000\n(Intercept)             0.410  0.065    6.266  0.000\n(Intra)                 1.313  0.081   16.263  0.000\nD_SCHOOL_COUNT          0.017  0.002    7.885  0.000\nD_SCHOOL_COUNT.lag1     0.002  0.004    0.551  0.581\nD_BUSINESS_COUNT        0.000  0.000    3.015  0.003\nD_BUSINESS_COUNT.lag1   0.000  0.000   -0.249  0.804\nD_RETAILS_COUNT         0.000  0.000   -0.306  0.759\nD_RETAILS_COUNT.lag1    0.000  0.000    0.152  0.880\nD_FINSERV_COUNT         0.002  0.000    6.787  0.000\nD_FINSERV_COUNT.lag1   -0.002  0.001   -3.767  0.000\nO_BUSSTOP_COUNT         0.002  0.000    6.806  0.000\nO_BUSSTOP_COUNT.lag1   -0.001  0.000   -2.364  0.018\nO_AGE25_64              0.000  0.000    7.336  0.000\nO_AGE25_64.lag1         0.000  0.000   -2.797  0.005\nP_log(DISTANCE + 1)    -0.050  0.007   -6.793  0.000\n\n--------------------------------------------------\nR2_corr: 0.6942945  \nObservations: 97969  \nModel coherence: Validated\n\n\nThe Output will indicate which model - in this case - Model 9.\n\n\n\n\n\n\nNote\n\n\n\nSpatial correlation structure: SDM (model_9)\nR2_corr: 0.6942945   Observations: 97969  \n\n\nThe .lag - explains the spatial lag, how it affects the formula. The p-value will show whether it is significant. E.g.\n\n\n\n\n\n\n\n\n\n\n\n\nest\nsd\nt.stat\np.val\nRemarks\n\n\nrho_d\n0.680\n0.004\n192.555\n0.000\n\n\n\nrho_o\n0.678\n0.004\n187.731\n0.000\n\n\n\nrho_w\n-0.396\n0.006\n-65.591\n0.000\n\n\n\n(Intercept)\n0.410\n0.065\n6.266\n0.000\n\n\n\n(Intra)\n1.313\n0.081\n16.263\n0.000\n\n\n\nD_SCHOOL_COUNT\n0.017\n0.002\n7.885\n0.000\n\n\n\nD_SCHOOL_COUNT.lag1\n0.002\n0.004\n0.551\n0.581\nNot significant\n\n\nD_BUSINESS_COUNT\n0.000\n0.000\n3.015\n0.003\n\n\n\nD_BUSINESS_COUNT.lag1\n0.000\n0.000\n-0.249\n0.804\nNot significant\n\n\nD_RETAILS_COUNT\n0.000\n0.000\n-0.306\n0.759\n\n\n\nD_RETAILS_COUNT.lag1\n0.000\n0.000\n0.152\n0.880\n\n\n\nD_FINSERV_COUNT\n0.002\n0.000\n6.787\n0.000\nBoth itself and neighbours are significant - due to Shenton Way and the Financial Hub areas.\n\n\nD_FINSERV_COUNT.lag1\n-0.002\n0.001\n-3.767\n0.000\n\n\n\nO_BUSSTOP_COUNT\n0.002\n0.000\n6.806\n0.000\n\n\n\nO_BUSSTOP_COUNT.lag1\n-0.001\n0.000\n-2.364\n0.018\n\n\n\nO_AGE25_64\n0.000\n0.000\n7.336\n0.000\n\n\n\nO_AGE25_64.lag1\n0.000\n0.000\n-2.797\n0.005\n\n\n\nP_log(DISTANCE + 1)\n-0.050\n0.007\n-6.793\n0.000"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#residual-diagnostics",
    "href": "InClassEx/Ex05/inclassex5.html#residual-diagnostics",
    "title": "In Class Ex 5",
    "section": "Residual Diagnostics",
    "text": "Residual Diagnostics\nWe can also create Moran scatter plots to check whether the residuals still exhibit spatial autocorrelation with respect to the three potential neighborhood matrices.\n\nold_par &lt;- par(mfrow = c(1, 3), mar = c(2,2,2,2))\nspflow_moran_plots(base_model)\n\n\n\n\n\nres_corr &lt;- pair_cor(base_model)\ncolnames(res_corr) &lt;- substr(colnames(res_corr),1,3)\ncor_image(res_corr)"
  },
  {
    "objectID": "InClassEx/Ex05/inclassex5.html#working-with-model-control",
    "href": "InClassEx/Ex05/inclassex5.html#working-with-model-control",
    "title": "In Class Ex 5",
    "section": "Working with Model Control",
    "text": "Working with Model Control\n\nspflow_formula  &lt;- \n  log(TRIPS + 1) ~\n  O_(BUSSTOP_COUNT +\n       AGE25_64) +\n  \n  D_(SCHOOL_COUNT +\n       BUSINESS_COUNT +\n       RETAILS_COUNT +\n       FINSERV_COUNT) +\n\n  P_(log(DISTANCE + 1))\n\nmodel_control &lt;- spflow_control(\n  estimation_method = \"mle\",\n  model = \"model_1\")\n\nmle_model_1  &lt;- spflow(\n  spflow_formula,\n  spflow_networks = mpsz_multinet,\n  estimation_control = model_control)\n\nmle_model_1\n\n--------------------------------------------------\nSpatial interaction model estimated by: OLS  \nSpatial correlation structure: SLX (model_1)\nDependent variable: log(TRIPS + 1)\n\n--------------------------------------------------\nCoefficients:\n                          est     sd    t.stat  p.val\n(Intercept)            11.384  0.069   164.255  0.000\n(Intra)                -6.006  0.112   -53.393  0.000\nD_SCHOOL_COUNT          0.093  0.003    28.599  0.000\nD_SCHOOL_COUNT.lag1     0.255  0.006    44.905  0.000\nD_BUSINESS_COUNT        0.001  0.000    10.036  0.000\nD_BUSINESS_COUNT.lag1   0.003  0.000    18.274  0.000\nD_RETAILS_COUNT         0.000  0.000    -1.940  0.052\nD_RETAILS_COUNT.lag1    0.000  0.000    -2.581  0.010\nD_FINSERV_COUNT         0.005  0.000    10.979  0.000\nD_FINSERV_COUNT.lag1   -0.016  0.001   -17.134  0.000\nO_BUSSTOP_COUNT         0.014  0.001    25.865  0.000\nO_BUSSTOP_COUNT.lag1    0.015  0.001    21.728  0.000\nO_AGE25_64              0.000  0.000    14.479  0.000\nO_AGE25_64.lag1         0.000  0.000    14.452  0.000\nP_log(DISTANCE + 1)    -1.281  0.008  -165.327  0.000\n\n--------------------------------------------------\nR2_corr: 0.2831458  \nObservations: 97969  \nModel coherence: Validated\n\n\n\nmodel_control &lt;- spflow_control(\n  estimation_method = \"mle\",\n  model = \"model_2\")\n\nmle_model_2  &lt;- spflow(\n  spflow_formula,\n  spflow_networks = mpsz_multinet,\n  estimation_control = model_control)\n\nmle_model_2\n\n--------------------------------------------------\nSpatial interaction model estimated by: MLE  \nSpatial correlation structure: SDM (model_2)\nDependent variable: log(TRIPS + 1)\n\n--------------------------------------------------\nCoefficients:\n                          est     sd   t.stat  p.val\nrho_d                   0.731  0.003  218.603  0.000\n(Intercept)             3.068  0.067   45.899  0.000\n(Intra)                -0.398  0.093   -4.291  0.000\nD_SCHOOL_COUNT          0.063  0.003   24.291  0.000\nD_SCHOOL_COUNT.lag1     0.054  0.005   11.802  0.000\nD_BUSINESS_COUNT        0.001  0.000    8.790  0.000\nD_BUSINESS_COUNT.lag1   0.001  0.000    3.925  0.000\nD_RETAILS_COUNT         0.000  0.000   -1.076  0.282\nD_RETAILS_COUNT.lag1    0.000  0.000    0.251  0.802\nD_FINSERV_COUNT         0.007  0.000   18.054  0.000\nD_FINSERV_COUNT.lag1   -0.009  0.001  -12.691  0.000\nO_BUSSTOP_COUNT         0.003  0.000    8.269  0.000\nO_BUSSTOP_COUNT.lag1    0.004  0.001    7.808  0.000\nO_AGE25_64              0.000  0.000    3.918  0.000\nO_AGE25_64.lag1         0.000  0.000    4.421  0.000\nP_log(DISTANCE + 1)    -0.351  0.007  -47.000  0.000\n\n--------------------------------------------------\nR2_corr: 0.5527887  \nObservations: 97969  \nModel coherence: Validated\n\n\n\nmodel_control &lt;- spflow_control(\n  estimation_method = \"mle\",\n  model = \"model_8\")\n\nmle_model_8  &lt;- spflow(\n  spflow_formula,\n  spflow_networks = mpsz_multinet,\n  estimation_control = model_control)\n\nmle_model_8\n\n--------------------------------------------------\nSpatial interaction model estimated by: MLE  \nSpatial correlation structure: SDM (model_8)\nDependent variable: log(TRIPS + 1)\n\n--------------------------------------------------\nCoefficients:\n                          est     sd    t.stat  p.val\nrho_d                   0.689  0.003   196.833  0.000\nrho_o                   0.687  0.004   192.214  0.000\nrho_w                  -0.473  0.003  -142.469  0.000\n(Intercept)             1.086  0.049    22.274  0.000\n(Intra)                 0.840  0.075    11.255  0.000\nD_SCHOOL_COUNT          0.019  0.002     8.896  0.000\nD_SCHOOL_COUNT.lag1     0.019  0.004     5.130  0.000\nD_BUSINESS_COUNT        0.000  0.000     3.328  0.001\nD_BUSINESS_COUNT.lag1   0.000  0.000     1.664  0.096\nD_RETAILS_COUNT         0.000  0.000    -0.414  0.679\nD_RETAILS_COUNT.lag1    0.000  0.000    -0.171  0.864\nD_FINSERV_COUNT         0.002  0.000     6.150  0.000\nD_FINSERV_COUNT.lag1   -0.003  0.001    -4.601  0.000\nO_BUSSTOP_COUNT         0.003  0.000     7.676  0.000\nO_BUSSTOP_COUNT.lag1    0.000  0.000     0.552  0.581\nO_AGE25_64              0.000  0.000     6.870  0.000\nO_AGE25_64.lag1         0.000  0.000    -0.462  0.644\nP_log(DISTANCE + 1)    -0.125  0.005   -22.865  0.000\n\n--------------------------------------------------\nR2_corr: 0.6965976  \nObservations: 97969  \nModel coherence: Validated\n\n\nModel 8 - explicitly brings out the intra-zonal flow. This is slightly better than the base model (R2 of 0.6942945).\n\nold_par &lt;- par(mfrow = c(1, 3), mar = c(2,2,2,2))\nspflow_moran_plots(mle_model_8)"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#basic-plot-of-the-inter-zonal-flow-data",
    "href": "TakehomeEx/Ex02/takehomeex2.html#basic-plot-of-the-inter-zonal-flow-data",
    "title": "Take Home Ex 2",
    "section": "Basic Plot of the Inter Zonal Flow Data",
    "text": "Basic Plot of the Inter Zonal Flow Data\n\nggplot(data = inter_zonal_flow,\n       aes(x = TRIPS)) +\n  geom_histogram(color='black',size= 0.3, fill = '#DD8888') +\n  labs(y= 'Count of TRIPS', x='TRIPS') +\n  theme(axis.title.y=element_text(angle = 0),\n        plot.title = element_text(face=\"bold\")) +\n  ggtitle('Distribution of TRIPS')\n\n\n\n\nIt seems to suggest that we should use a Poisson Regression Model."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#goodness-of-fit---calculating-rsquared-statistics",
    "href": "TakehomeEx/Ex02/takehomeex2.html#goodness-of-fit---calculating-rsquared-statistics",
    "title": "Take Home Ex 2",
    "section": "Goodness of Fit - Calculating RSquared Statistics",
    "text": "Goodness of Fit - Calculating RSquared Statistics\n\nCalcRSquared &lt;- function(observed, estimated){\n  r &lt;- cor(observed, estimated)\n  R2 &lt;- r^2\n  R2\n}\n\n\nr_squared_values &lt;- lapply(model_list, function(model) {\n  observed_values &lt;- model$data$TRIPS\n  fitted_values &lt;- model$fitted.values\n  CalcRSquared(observed_values, fitted_values)\n})\n\n# Print the R-squared values for each model\nprint(r_squared_values)\n\n$unconstrained\n[1] 0.2295632\n\n$originConstrained\n[1] 0.3516033\n\n$destinationConstrained\n[1] 0.4310837\n\n$doublyConstrained\n[1] 0.6000049\n\n\nIt seems that the Doubly Constrained Model is the best fitted across the four models, as compared to the other three. the RMSE of the Doubly Constrained Model is also the lowest."
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#removing-outliers",
    "href": "TakehomeEx/Ex02/takehomeex2.html#removing-outliers",
    "title": "Take Home Ex 2",
    "section": "Removing Outliers",
    "text": "Removing Outliers\n\n# Get model residuals\nresiduals &lt;- residuals(dbcSIM)\n\n# Plot residuals\nplot(residuals)\n\n\n\n\nBased on the data - there seems to be a point where the number of trips is presumably a lot higher than the rest. Using the follow code chunk to find out.\n\n# Assuming 'df' is your dataframe and 'columnName' is the column of interest\nresult &lt;- subset(SIM_data, decTRIPS &gt; 90000)\n\n# Print the result\nprint(result)\n\nSimple feature collection with 1 feature and 18 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 20845.12 ymin: 47916.23 xmax: 20845.12 ymax: 49215.27\nProjected CRS: SVY21 / Singapore TM\n      ORIGIN_Grid DESTIN_Grid TRIPS FlowNoIntra offset     DIST SCHOOL_COUNT\n11970         984         983 97602       97602      1 1299.038         0.99\n      BIZ_COUNT FOOD_COUNT DESTIN_TRAIN_EXITS  POP TRAIN_EXITS_COUNT\n11970      0.99       0.99               0.99 0.99              0.99\n      CHILDCARE_COUNT n_busstops uncTRIPS orcTRIPS decTRIPS dbcTRIPS\n11970            0.99          2      212    20392    90032    95335\n                            geometry\n11970 LINESTRING (20845.12 49215....\n\n\nFrom the results - this is a travel between Grid 984 to 983. Which I suspect is the link between the Causeway. This data point is unique in the sense that it depicts cross-country travel between Malaysia and Singapore. Confirmed this using the tmap_plot to check.\n\ntmap_mode(\"view\")\n\ntm_shape(hexagon_bustops)+\n  tm_polygons(alpha = 0.3)\n\n\n\n\n\n\nWe will remove the data from flow_data_tidy and refit the Doubly Constrained Model.\n\n# Define the values to be removed\nremove_values &lt;- c(ORIGIN_Grid = 984, DESTIN_Grid = 983)\n\n# Remove the row with specified values\ninter_zonal_flow_cleaned &lt;- inter_zonal_flow %&gt;%\n  filter(ORIGIN_Grid != remove_values[\"ORIGIN_Grid\"] | DESTIN_Grid != remove_values[\"DESTIN_Grid\"])\n\n\ndbcSIM1 &lt;- glm(formula = TRIPS ~ \n                ORIGIN_Grid + \n                DESTIN_Grid + \n                log(DIST),\n              family = poisson(link = \"log\"),\n              data = inter_zonal_flow_cleaned,\n              na.action = na.exclude)\n\n\nwrite_rds(dbcSIM1, \"data/rds/dbcSIM1.rds\")\n\n\ndbcSIM1 &lt;- read_rds(\"data/rds/dbcSIM1.rds\")"
  },
  {
    "objectID": "TakehomeEx/Ex02/takehomeex2.html#checking-the-goodness-of-fit-for-refitted-model",
    "href": "TakehomeEx/Ex02/takehomeex2.html#checking-the-goodness-of-fit-for-refitted-model",
    "title": "Take Home Ex 2",
    "section": "Checking the Goodness of Fit for refitted Model",
    "text": "Checking the Goodness of Fit for refitted Model\n\nmodel_list &lt;- list(unconstrained=uncSIM,\n                   originConstrained=orcSIM_Poisson,\n                   destinationConstrained=decSIM,\n                   doublyConstrained=dbcSIM,\n                   doublyConstrainednew=dbcSIM1)\n\n\ncompare_performance(model_list,\n                    metrics = \"RMSE\")\n\n# Comparison of Model Performance Indices\n\nName                   | Model |     RMSE\n-----------------------------------------\nunconstrained          |   glm | 1625.597\noriginConstrained      |   glm | 1491.508\ndestinationConstrained |   glm | 1396.745\ndoublyConstrained      |   glm | 1172.123\ndoublyConstrainednew   |   glm | 1172.352\n\n\n\nCalcRSquared(dbcSIM1$data$TRIPS, dbcSIM1$fitted.values)\n\n[1] 0.5821678\n\n\nIt seems that the removal of the point caused the model to be worse instead of better."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS624 - Geospatial Analysis",
    "section": "",
    "text": "ISSS624 Documentation Website\nReferences and Coursework:\nSyllabus and Coursework: https://isss624-ay2023-24nov.netlify.app/\nR for Geospatial Data Science and Analytics: https://r4gdsa.netlify.app/"
  }
]